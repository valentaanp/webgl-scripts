!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(3)},,,function(t,e,i){"use strict";i.r(e),function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":(t.crossOrigin,e.credentials="anonymous"),e}(t);fetch(t.href,e)}}();class n{constructor(t,e,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"div";this.parent=t,this.object=e,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),n.nextNameID=n.nextNameID||0,this.$name.id="lil-gui-name-"+ ++n.nextNameID,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(t){return this._name=t,this.$name.innerHTML=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.disable(!t)}disable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t===this._disabled||(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t)),this}show(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._listening=t,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.object[this.property]=t,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class r extends n{constructor(t,e,i){super(t,e,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",(()=>{this.setValue(this.$input.checked),this._callOnFinishChange()})),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function s(t){let e,i;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?i=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?i=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!!i&&"#"+i}const a={isPrimitive:!0,match:t=>"string"==typeof t,fromHexString:s,toHexString:s},o={isPrimitive:!0,match:t=>"number"==typeof t,fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},h={isPrimitive:!1,match:Array.isArray,fromHexString(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=o.fromHexString(t);e[0]=(n>>16&255)/255*i,e[1]=(n>>8&255)/255*i,e[2]=(255&n)/255*i},toHexString(t){let[e,i,n]=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r=255/r,o.toHexString(e*r<<16^i*r<<8^n*r<<0)}},l={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=o.fromHexString(t);e.r=(n>>16&255)/255*i,e.g=(n>>8&255)/255*i,e.b=(255&n)/255*i},toHexString(t){let{r:e,g:i,b:n}=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r=255/r,o.toHexString(e*r<<16^i*r<<8^n*r<<0)}},u=[a,o,h,l];class d extends n{constructor(t,e,i,n){super(t,e,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=function(t){return u.find((e=>e.match(t)))}(this.initialValue),this._rgbScale=n,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",(()=>{this._setValueFromHexString(this.$input.value)})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$text.addEventListener("input",(()=>{const t=s(this.$text.value);t&&this._setValueFromHexString(t)})),this.$text.addEventListener("focus",(()=>{this._textFocused=!0,this.$text.select()})),this.$text.addEventListener("blur",(()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()})),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class c extends n{constructor(t,e,i){super(t,e,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",(t=>{t.preventDefault(),this.getValue().call(this.object)})),this.$button.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$disable=this.$button}}class p extends n{constructor(t,e,i,n,r,s){super(t,e,i,"number"),this._initInput(),this.min(n),this.max(r);const a=void 0!==s;this.step(a?s:this._getImplicitStep(),a),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._step=t,this._stepExplicit=e,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=100*e+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=t=>{const e=parseFloat(this.$input.value);isNaN(e)||(this._snapClampSetValue(e+t),this.$input.value=this.getValue())};let e,i,n,r,s,a=!1;const o=t=>{if(a){const n=t.clientX-e,r=t.clientY-i;Math.abs(r)>5?(t.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(n)>5&&h()}if(!a){const e=t.clientY-n;s-=e*this._step*this._arrowKeyMultiplier(t),r+s>this._max?s=this._max-r:r+s<this._min&&(s=this._min-r),this._snapClampSetValue(r+s)}n=t.clientY},h=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",h)};this.$input.addEventListener("input",(()=>{let t=parseFloat(this.$input.value);isNaN(t)||(this._stepExplicit&&(t=this._snap(t)),this.setValue(this._clamp(t)))})),this.$input.addEventListener("keydown",(e=>{"Enter"===e.code&&this.$input.blur(),"ArrowUp"===e.code&&(e.preventDefault(),t(this._step*this._arrowKeyMultiplier(e))),"ArrowDown"===e.code&&(e.preventDefault(),t(this._step*this._arrowKeyMultiplier(e)*-1))})),this.$input.addEventListener("wheel",(e=>{this._inputFocused&&(e.preventDefault(),t(this._step*this._normalizeMouseWheel(e)))}),{passive:!1}),this.$input.addEventListener("mousedown",(t=>{e=t.clientX,i=n=t.clientY,a=!0,r=this.getValue(),s=0,window.addEventListener("mousemove",o),window.addEventListener("mouseup",h)})),this.$input.addEventListener("focus",(()=>{this._inputFocused=!0})),this.$input.addEventListener("blur",(()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()}))}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=t=>{const e=this.$slider.getBoundingClientRect();let i=((t,e,i,n,r)=>(t-e)/(i-e)*(this._max-n)+n)(t,e.left,e.right,this._min);this._snapClampSetValue(i)},e=e=>{t(e.clientX)},i=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i)};let n,r,s=!1;const a=e=>{e.preventDefault(),this._setDraggingStyle(!0),t(e.touches[0].clientX),s=!1},o=e=>{if(s){const t=e.touches[0].clientX-n,i=e.touches[0].clientY-r;Math.abs(t)>Math.abs(i)?a(e):(window.removeEventListener("touchmove",o),window.removeEventListener("touchend",h))}else e.preventDefault(),t(e.touches[0].clientX)},h=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",o),window.removeEventListener("touchend",h)},l=this._callOnFinishChange.bind(this);let u;this.$slider.addEventListener("mousedown",(n=>{this._setDraggingStyle(!0),t(n.clientX),window.addEventListener("mousemove",e),window.addEventListener("mouseup",i)})),this.$slider.addEventListener("touchstart",(t=>{t.touches.length>1||(this._hasScrollBar?(n=t.touches[0].clientX,r=t.touches[0].clientY,s=!0):a(t),window.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("touchend",h))}),{passive:!1}),this.$slider.addEventListener("wheel",(t=>{if(Math.abs(t.deltaX)<Math.abs(t.deltaY)&&this._hasScrollBar)return;t.preventDefault();const e=this._normalizeMouseWheel(t)*this._step;this._snapClampSetValue(this.getValue()+e),this.$input.value=this.getValue(),clearTimeout(u),u=setTimeout(l,400)}),{passive:!1})}_setDraggingStyle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:i}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,i=-t.wheelDelta/120,i*=this._stepExplicit?1:10),e+-i}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){const e=Math.round(t/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class g extends n{constructor(t,e,i,n){super(t,e,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(n)?n:Object.values(n),this._names=Array.isArray(n)?n:Object.keys(n),this._names.forEach((t=>{const e=document.createElement("option");e.innerHTML=t,this.$select.appendChild(e)})),this.$select.addEventListener("change",(()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()})),this.$select.addEventListener("focus",(()=>{this.$display.classList.add("focus")})),this.$select.addEventListener("blur",(()=>{this.$display.classList.remove("focus")})),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.innerHTML=-1===e?t:this._names[e],this}}class f extends n{constructor(t,e,i){super(t,e,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",(()=>{this.setValue(this.$input.value)})),this.$input.addEventListener("keydown",(t=>{"Enter"===t.code&&this.$input.blur()})),this.$input.addEventListener("blur",(()=>{this._callOnFinishChange()})),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let m=!1;class _{constructor(){let{parent:t,autoPlace:e=void 0===t,container:i,width:n,title:r="Controls",injectStyles:s=!0,touchStyles:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",(()=>this.openAnimated(this._closed))),this.$title.addEventListener("keydown",(t=>{("Enter"===t.code||"Space"===t.code)&&(t.preventDefault(),this.$title.click())})),this.$title.addEventListener("touchstart",(()=>{}),{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(r),a&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!m&&s&&(function(t){const e=document.createElement("style");e.innerHTML='.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: " ";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: "lil-gui";\n  content: "↕";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: "lil-gui";\n  content: "▾";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: "▸";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: "Empty";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: "lil-gui";\n  content: "✓";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: "lil-gui";\n  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");\n}';const i=document.querySelector("head link[rel=stylesheet], head style");i?document.head.insertBefore(e,i):document.head.appendChild(e)}(),m=!0),i?i.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),n&&this.domElement.style.setProperty("--width",n+"px"),this.domElement.addEventListener("keydown",(t=>t.stopPropagation())),this.domElement.addEventListener("keyup",(t=>t.stopPropagation()))}add(t,e,i,n,s){if(Object(i)===i)return new g(this,t,e,i);switch(typeof t[e]){case"number":return new p(this,t,e,i,n,s);case"boolean":return new r(this,t,e);case"string":return new f(this,t,e);case"function":return new c(this,t,e)}}addColor(t,e){return new d(this,t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}addFolder(t){return new _({parent:this,title:t})}load(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.controllers&&this.controllers.forEach((e=>{e instanceof c||e._name in t.controllers&&e.load(t.controllers[e._name])})),e&&t.folders&&this.folders.forEach((e=>{e._title in t.folders&&e.load(t.folders[e._title])})),this}save(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e={controllers:{},folders:{}};return this.controllers.forEach((t=>{if(!(t instanceof c)){if(t._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${t._name}"`);e.controllers[t._name]=t.save()}})),t&&this.folders.forEach((t=>{if(t._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${t._title}"`);e.folders[t._title]=t.save()})),e}open(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame((()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const i=t=>{t.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const n=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame((()=>{this.$children.style.height=n+"px"}))})),this}title(t){return this._title=t,this.$title.innerHTML=t,this}reset(){return(arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.controllers:this.controllersRecursive()).forEach((t=>t.reset())),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),void 0!==this._onChange&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach((t=>t.destroy()))}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach((e=>{t=t.concat(e.controllersRecursive())})),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach((e=>{t=t.concat(e.foldersRecursive())})),t}}function v(t){let e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function b(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function y(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function x(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function w(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function A(t){let e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function E(t,e){let i=e[0],n=e[1],r=e[2],s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function M(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,i){let n=e[0],r=e[1],s=e[2],a=i[0],o=i[1],h=i[2];return t[0]=r*h-s*o,t[1]=s*a-n*h,t[2]=n*o-r*a,t}const C=function(){const t=[0,0,0],e=[0,0,0];return function(i,n){b(t,i),b(e,n),E(t,t),E(e,e);let r=M(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();class S extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(function(t,e,i,n){t[0]=e,t[1]=i,t[2]=n}(this,t,e,i),this)}copy(t){return b(this,t),this}add(t,e){return e?y(this,t,e):y(this,this,t),this}sub(t,e){return e?x(this,t,e):x(this,this,t),this}multiply(t){return t.length?function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2]}(this,this,t):w(this,this,t),this}divide(t){return t.length?function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2]}(this,this,t):w(this,this,1/t),this}inverse(){return function(t,e){t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}len(){return v(this)}distance(t){return t?function(t,e){let i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}(this,t):v(this)}squaredLen(){return A(this)}squaredDistance(t){return t?function(t,e){let i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}(this,t):A(this)}negate(){return function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}cross(t,e){return e?T(this,t,e):T(this,this,t),this}scale(t){return w(this,this,t),this}normalize(){return E(this,this),this}dot(t){return M(this,t)}equals(t){return function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}(this,t)}applyMatrix3(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2];t[0]=n*i[0]+r*i[3]+s*i[6],t[1]=n*i[1]+r*i[4]+s*i[7],t[2]=n*i[2]+r*i[5]+s*i[8]}(this,this,t),this}applyMatrix4(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2],a=i[3]*n+i[7]*r+i[11]*s+i[15];a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*s+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*s+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*s+i[14])/a}(this,this,t),this}scaleRotateMatrix4(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2],a=i[3]*n+i[7]*r+i[11]*s+i[15];a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*s)/a,t[1]=(i[1]*n+i[5]*r+i[9]*s)/a,t[2]=(i[2]*n+i[6]*r+i[10]*s)/a}(this,this,t),this}applyQuaternion(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2],a=i[0],o=i[1],h=i[2],l=o*s-h*r,u=h*n-a*s,d=a*r-o*n,c=o*d-h*u,p=h*l-a*d,g=a*u-o*l,f=2*i[3];l*=f,u*=f,d*=f,c*=2,p*=2,g*=2,t[0]=n+l+c,t[1]=r+u+p,t[2]=s+d+g}(this,this,t),this}angle(t){return C(this,t)}lerp(t,e){return function(t,e,i,n){let r=e[0],s=e[1],a=e[2];t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=a+n*(i[2]-a)}(this,this,t,e),this}clone(){return new S(this[0],this[1],this[2])}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],i=this[1],n=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*n,this[1]=t[1]*e+t[5]*i+t[9]*n,this[2]=t[2]*e+t[6]*i+t[10]*n,this.normalize()}}const k=new S;let F=1,O=1,L=!1;class D{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.canvas,this.gl=t,this.attributes=e,this.id=F++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let t in e)this.addAttribute(t,e[t])}addAttribute(t,e){if(this.attributes[t]=e,e.id=O++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach(((t,e)=>{let{name:i,type:n}=e;if(!this.attributes[i])return;const r=this.attributes[i];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let s=1;35674===n&&(s=2),35675===n&&(s=3),35676===n&&(s=4);const a=r.size/s,o=1===s?0:s*s*s,h=1===s?0:s*s;for(let e=0;e<s;e++)this.gl.vertexAttribPointer(t+e,a,r.type,r.normalized,r.stride+o,r.offset+e*h),this.gl.enableVertexAttribArray(t+e),this.gl.renderer.vertexAttribDivisor(t+e,r.divisor)})),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw(t){let{program:e,mode:i=this.gl.TRIANGLES}=t;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach(((t,e)=>{let{name:i}=e;const n=this.attributes[i];n.needsUpdate&&this.updateAttribute(n)})),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(i,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start,this.instancedCount):this.gl.renderer.drawArraysInstanced(i,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(i,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start):this.gl.drawArrays(i,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;return t.data?t:L?void 0:L=!0}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||(this.bounds={min:new S,max:new S,center:new S,scale:new S,radius:1/0});const n=this.bounds.min,r=this.bounds.max,s=this.bounds.center,a=this.bounds.scale;n.set(1/0),r.set(-1/0);for(let t=0,s=e.length;t<s;t+=i){const i=e[t],s=e[t+1],a=e[t+2];n.x=Math.min(i,n.x),n.y=Math.min(s,n.y),n.z=Math.min(a,n.z),r.x=Math.max(i,r.x),r.y=Math.max(s,r.y),r.z=Math.max(a,r.z)}a.sub(r,n),s.add(n,r).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||this.computeBoundingBox(t);let n=0;for(let t=0,r=e.length;t<r;t+=i)k.fromArray(e,t),n=Math.max(n,this.bounds.center.squaredDistance(k));this.bounds.radius=Math.sqrt(n)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let R=1;const P={};class B{constructor(t){let{vertex:e,fragment:i,uniforms:n={},transparent:r=!1,cullFace:s=t.BACK,frontFace:a=t.CCW,depthTest:o=!0,depthWrite:h=!0,depthFunc:l=t.LESS}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.canvas,this.gl=t,this.uniforms=n,this.id=R++,this.transparent=r,this.cullFace=s,this.frontFace=a,this.depthTest=o,this.depthWrite=h,this.depthFunc=l,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const u=t.createShader(t.VERTEX_SHADER);t.shaderSource(u,e),t.compileShader(u),t.getShaderInfoLog(u);const d=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(d,i),t.compileShader(d),t.getShaderInfoLog(d),this.program=t.createProgram(),t.attachShader(this.program,u),t.attachShader(this.program,d),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return;t.deleteShader(u),t.deleteShader(d),this.uniformLocations=new Map;let c=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let e=0;e<c;e++){let i=t.getActiveUniform(this.program,e);this.uniformLocations.set(i,t.getUniformLocation(this.program,i.name));const n=i.name.match(/(\w+)/g);i.uniformName=n[0],3===n.length?(i.isStructArray=!0,i.structIndex=Number(n[1]),i.structProperty=n[2]):2===n.length&&isNaN(Number(n[1]))&&(i.isStruct=!0,i.structProperty=n[1])}this.attributeLocations=new Map;const p=[],g=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let e=0;e<g;e++){const i=t.getActiveAttrib(this.program,e),n=t.getAttribLocation(this.program,i.name);-1!==n&&(p[n]=i.name,this.attributeLocations.set(i,n))}this.attributeOrder=p.join("")}setBlendFunc(t,e,i,n){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use(){let{flipFaces:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach(((t,i)=>{let n=i.uniformName,r=this.uniforms[n];if(i.isStruct&&(r=r[i.structProperty],n+=`.${i.structProperty}`),i.isStructArray&&(r=r[i.structIndex][i.structProperty],n+=`[${i.structIndex}].${i.structProperty}`),!r)return z(`Active uniform ${n} has not been supplied`);if(r&&void 0===r.value)return z(`${n} uniform is missing a value parameter`);if(r.value.texture)return e+=1,r.value.update(e),$(this.gl,i.type,t,e);if(r.value.length&&r.value[0].texture){const n=[];return r.value.forEach((t=>{e+=1,t.update(e),n.push(e)})),$(this.gl,i.type,t,n)}$(this.gl,i.type,t,r.value)})),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function $(t,e,i,n){n=n.length?function(t){const e=t.length,i=t[0].length;if(void 0===i)return t;const n=e*i;let r=P[n];r||(P[n]=r=new Float32Array(n));for(let n=0;n<e;n++)r.set(t[n],n*i);return r}(n):n;const r=t.renderer.state.uniformLocations.get(i);if(n.length)if(void 0===r||r.length!==n.length)t.renderer.state.uniformLocations.set(i,n.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}(r,n))return;r.set?r.set(n):function(t,e){for(let i=0,n=t.length;i<n;i++)t[i]=e[i]}(r,n),t.renderer.state.uniformLocations.set(i,r)}else{if(r===n)return;t.renderer.state.uniformLocations.set(i,n)}switch(e){case 5126:return n.length?t.uniform1fv(i,n):t.uniform1f(i,n);case 35664:return t.uniform2fv(i,n);case 35665:return t.uniform3fv(i,n);case 35666:return t.uniform4fv(i,n);case 35670:case 5124:case 35678:case 35680:return n.length?t.uniform1iv(i,n):t.uniform1i(i,n);case 35671:case 35667:return t.uniform2iv(i,n);case 35672:case 35668:return t.uniform3iv(i,n);case 35673:case 35669:return t.uniform4iv(i,n);case 35674:return t.uniformMatrix2fv(i,!1,n);case 35675:return t.uniformMatrix3fv(i,!1,n);case 35676:return t.uniformMatrix4fv(i,!1,n)}}let I=0;function z(t){I>100||I++}const N=new S;let U=1;class V{constructor(){let{canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:n=1,alpha:r=!1,depth:s=!0,stencil:a=!1,antialias:o=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:l=!1,powerPreference:u="default",autoClear:d=!0,webgl:c=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p={alpha:r,depth:s,stencil:a,antialias:o,premultipliedAlpha:h,preserveDrawingBuffer:l,powerPreference:u};this.dpr=n,this.alpha=r,this.color=!0,this.depth=s,this.stencil=a,this.premultipliedAlpha=h,this.autoClear=d,this.id=U++,2===c&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl,this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=n,this.gl.viewport(i,n,t,e))}setScissor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.gl.scissor(i,n,t,e)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,n){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,void 0!==i?this.gl.blendFuncSeparate(t,e,i,n):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==t||this.state.blendEquation.modeAlpha!==e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer(){let{target:t=this.gl.FRAMEBUFFER,buffer:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList(t){let{scene:e,camera:i,frustumCull:n,sort:r}=t,s=[];if(i&&n&&i.updateFrustum(),e.traverse((t=>{if(!t.visible)return!0;t.draw&&(n&&t.frustumCulled&&i&&!i.frustumIntersectsMesh(t)||s.push(t))})),r){const t=[],e=[],n=[];s.forEach((r=>{r.program.transparent?r.program.depthTest?e.push(r):n.push(r):t.push(r),r.zDepth=0,0===r.renderOrder&&r.program.depthTest&&i&&(r.worldMatrix.getTranslation(N),N.applyMatrix4(i.projectionViewMatrix),r.zDepth=N.z)})),t.sort(this.sortOpaque),e.sort(this.sortTransparent),n.sort(this.sortUI),s=t.concat(e,n)}return s}render(t){let{scene:e,camera:i,target:n=null,update:r=!0,sort:s=!0,frustumCull:a=!0,clear:o}=t;null===n?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(o||this.autoClear&&!1!==o)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),i&&i.updateMatrixWorld(),this.getRenderList({scene:e,camera:i,frustumCull:a,sort:s}).forEach((t=>{t.draw({camera:i})}))}}function Y(t,e,i){let n=e[0],r=e[1],s=e[2],a=e[3],o=i[0],h=i[1],l=i[2],u=i[3];return t[0]=n*u+a*o+r*l-s*h,t[1]=r*u+a*h+s*o-n*l,t[2]=s*u+a*l+n*h-r*o,t[3]=a*u-n*o-r*h-s*l,t}class X extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1}(this),this.onChange(),this}set(t,e,i,n){return t.length?this.copy(t):(function(t,e,i,n,r){t[0]=e,t[1]=i,t[2]=n,t[3]=r}(this,t,e,i,n),this.onChange(),this)}rotateX(t){return function(t,e,i){i*=.5;let n=e[0],r=e[1],s=e[2],a=e[3],o=Math.sin(i),h=Math.cos(i);t[0]=n*h+a*o,t[1]=r*h+s*o,t[2]=s*h-r*o,t[3]=a*h-n*o}(this,this,t),this.onChange(),this}rotateY(t){return function(t,e,i){i*=.5;let n=e[0],r=e[1],s=e[2],a=e[3],o=Math.sin(i),h=Math.cos(i);t[0]=n*h-s*o,t[1]=r*h+a*o,t[2]=s*h+n*o,t[3]=a*h-r*o}(this,this,t),this.onChange(),this}rotateZ(t){return function(t,e,i){i*=.5;let n=e[0],r=e[1],s=e[2],a=e[3],o=Math.sin(i),h=Math.cos(i);t[0]=n*h+r*o,t[1]=r*h-n*o,t[2]=s*h+a*o,t[3]=a*h-s*o}(this,this,t),this.onChange(),this}inverse(){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=i*i+n*n+r*r+s*s,o=a?1/a:0;t[0]=-i*o,t[1]=-n*o,t[2]=-r*o,t[3]=s*o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this.onChange(),this}conjugate(){return function(t,e){t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this.onChange(),this}copy(t){return function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}(this,t),this.onChange(),this}normalize(){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=i*i+n*n+r*r+s*s;a>0&&(a=1/Math.sqrt(a)),t[0]=i*a,t[1]=n*a,t[2]=r*a,t[3]=s*a}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this.onChange(),this}multiply(t,e){return e?Y(this,t,e):Y(this,this,t),this.onChange(),this}dot(t){return function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}(this,t)}fromMatrix3(t){return function(t,e){let i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);let r=(n+1)%3,s=(n+2)%3;i=Math.sqrt(e[3*n+n]-e[3*r+r]-e[3*s+s]+1),t[n]=.5*i,i=.5/i,t[3]=(e[3*r+s]-e[3*s+r])*i,t[r]=(e[3*r+n]+e[3*n+r])*i,t[s]=(e[3*s+n]+e[3*n+s])*i}}(this,t),this.onChange(),this}fromEuler(t){return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ",n=Math.sin(.5*e[0]),r=Math.cos(.5*e[0]),s=Math.sin(.5*e[1]),a=Math.cos(.5*e[1]),o=Math.sin(.5*e[2]),h=Math.cos(.5*e[2]);"XYZ"===i?(t[0]=n*a*h+r*s*o,t[1]=r*s*h-n*a*o,t[2]=r*a*o+n*s*h,t[3]=r*a*h-n*s*o):"YXZ"===i?(t[0]=n*a*h+r*s*o,t[1]=r*s*h-n*a*o,t[2]=r*a*o-n*s*h,t[3]=r*a*h+n*s*o):"ZXY"===i?(t[0]=n*a*h-r*s*o,t[1]=r*s*h+n*a*o,t[2]=r*a*o+n*s*h,t[3]=r*a*h-n*s*o):"ZYX"===i?(t[0]=n*a*h-r*s*o,t[1]=r*s*h+n*a*o,t[2]=r*a*o-n*s*h,t[3]=r*a*h+n*s*o):"YZX"===i?(t[0]=n*a*h+r*s*o,t[1]=r*s*h+n*a*o,t[2]=r*a*o-n*s*h,t[3]=r*a*h-n*s*o):"XZY"===i&&(t[0]=n*a*h-r*s*o,t[1]=r*s*h-n*a*o,t[2]=r*a*o+n*s*h,t[3]=r*a*h+n*s*o)}(this,t,t.order),this}fromAxisAngle(t,e){return function(t,e,i){i*=.5;let n=Math.sin(i);t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i)}(this,t,e),this.onChange(),this}slerp(t,e){return function(t,e,i,n){let r,s,a,o,h,l=e[0],u=e[1],d=e[2],c=e[3],p=i[0],g=i[1],f=i[2],m=i[3];s=l*p+u*g+d*f+c*m,s<0&&(s=-s,p=-p,g=-g,f=-f,m=-m),1-s>1e-6?(r=Math.acos(s),a=Math.sin(r),o=Math.sin((1-n)*r)/a,h=Math.sin(n*r)/a):(o=1-n,h=n),t[0]=o*l+h*p,t[1]=o*u+h*g,t[2]=o*d+h*f,t[3]=o*c+h*m}(this,this,t,e),this.onChange(),this}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this.onChange(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function G(t,e,i){let n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],d=e[8],c=e[9],p=e[10],g=e[11],f=e[12],m=e[13],_=e[14],v=e[15],b=i[0],y=i[1],x=i[2],w=i[3];return t[0]=b*n+y*o+x*d+w*f,t[1]=b*r+y*h+x*c+w*m,t[2]=b*s+y*l+x*p+w*_,t[3]=b*a+y*u+x*g+w*v,b=i[4],y=i[5],x=i[6],w=i[7],t[4]=b*n+y*o+x*d+w*f,t[5]=b*r+y*h+x*c+w*m,t[6]=b*s+y*l+x*p+w*_,t[7]=b*a+y*u+x*g+w*v,b=i[8],y=i[9],x=i[10],w=i[11],t[8]=b*n+y*o+x*d+w*f,t[9]=b*r+y*h+x*c+w*m,t[10]=b*s+y*l+x*p+w*_,t[11]=b*a+y*u+x*g+w*v,b=i[12],y=i[13],x=i[14],w=i[15],t[12]=b*n+y*o+x*d+w*f,t[13]=b*r+y*h+x*c+w*m,t[14]=b*s+y*l+x*p+w*_,t[15]=b*a+y*u+x*g+w*v,t}function q(t,e){let i=e[0],n=e[1],r=e[2],s=e[4],a=e[5],o=e[6],h=e[8],l=e[9],u=e[10];return t[0]=Math.hypot(i,n,r),t[1]=Math.hypot(s,a,o),t[2]=Math.hypot(h,l,u),t}const W=function(){const t=[0,0,0];return function(e,i){let n=t;q(n,i);let r=1/n[0],s=1/n[1],a=1/n[2],o=i[0]*r,h=i[1]*s,l=i[2]*a,u=i[4]*r,d=i[5]*s,c=i[6]*a,p=i[8]*r,g=i[9]*s,f=i[10]*a,m=o+d+f,_=0;return m>0?(_=2*Math.sqrt(m+1),e[3]=.25*_,e[0]=(c-g)/_,e[1]=(p-l)/_,e[2]=(h-u)/_):o>d&&o>f?(_=2*Math.sqrt(1+o-d-f),e[3]=(c-g)/_,e[0]=.25*_,e[1]=(h+u)/_,e[2]=(p+l)/_):d>f?(_=2*Math.sqrt(1+d-o-f),e[3]=(p-l)/_,e[0]=(h+u)/_,e[1]=.25*_,e[2]=(c+g)/_):(_=2*Math.sqrt(1+f-o-d),e[3]=(h-u)/_,e[0]=(p+l)/_,e[1]=(c+g)/_,e[2]=.25*_),e}}();class H extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,arguments.length>15&&void 0!==arguments[15]?arguments[15]:1),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,n,r,s,a,o,h,l,u,d,c,p,g,f){return t.length?this.copy(t):(function(t,e,i,n,r,s,a,o,h,l,u,d,c,p,g,f,m){t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=a,t[6]=o,t[7]=h,t[8]=l,t[9]=u,t[10]=d,t[11]=c,t[12]=p,t[13]=g,t[14]=f,t[15]=m}(this,t,e,i,n,r,s,a,o,h,l,u,d,c,p,g,f),this)}translate(t){return function(t,e,i){let n,r,s,a,o,h,l,u,d,c,p,g,f=i[0],m=i[1],_=i[2];e===t?(t[12]=e[0]*f+e[4]*m+e[8]*_+e[12],t[13]=e[1]*f+e[5]*m+e[9]*_+e[13],t[14]=e[2]*f+e[6]*m+e[10]*_+e[14],t[15]=e[3]*f+e[7]*m+e[11]*_+e[15]):(n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],d=e[8],c=e[9],p=e[10],g=e[11],t[0]=n,t[1]=r,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=l,t[7]=u,t[8]=d,t[9]=c,t[10]=p,t[11]=g,t[12]=n*f+o*m+d*_+e[12],t[13]=r*f+h*m+c*_+e[13],t[14]=s*f+l*m+p*_+e[14],t[15]=a*f+u*m+g*_+e[15])}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}rotate(t,e){return function(t,e,i,n){let r,s,a,o,h,l,u,d,c,p,g,f,m,_,v,b,y,x,w,A,E,M,T,C,S=n[0],k=n[1],F=n[2],O=Math.hypot(S,k,F);Math.abs(O)<1e-6||(O=1/O,S*=O,k*=O,F*=O,r=Math.sin(i),s=Math.cos(i),a=1-s,o=e[0],h=e[1],l=e[2],u=e[3],d=e[4],c=e[5],p=e[6],g=e[7],f=e[8],m=e[9],_=e[10],v=e[11],b=S*S*a+s,y=k*S*a+F*r,x=F*S*a-k*r,w=S*k*a-F*r,A=k*k*a+s,E=F*k*a+S*r,M=S*F*a+k*r,T=k*F*a-S*r,C=F*F*a+s,t[0]=o*b+d*y+f*x,t[1]=h*b+c*y+m*x,t[2]=l*b+p*y+_*x,t[3]=u*b+g*y+v*x,t[4]=o*w+d*A+f*E,t[5]=h*w+c*A+m*E,t[6]=l*w+p*A+_*E,t[7]=u*w+g*A+v*E,t[8]=o*M+d*T+f*C,t[9]=h*M+c*T+m*C,t[10]=l*M+p*T+_*C,t[11]=u*M+g*T+v*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,t,e),this}scale(t){return function(t,e,i){let n=i[0],r=i[1],s=i[2];t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,"number"==typeof t?[t,t,t]:t),this}multiply(t,e){return e?G(this,t,e):G(this,this,t),this}identity(){return function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this),this}copy(t){return function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,t),this}fromPerspective(){let{fov:t,aspect:e,near:i,far:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e,i,n,r){let s=1/Math.tan(e/2),a=1/(n-r);t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0}(this,t,e,i,n),this}fromOrthogonal(t){let{left:e,right:i,bottom:n,top:r,near:s,far:a}=t;return function(t,e,i,n,r,s,a){let o=1/(e-i),h=1/(n-r),l=1/(s-a);t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+i)*o,t[13]=(r+n)*h,t[14]=(a+s)*l,t[15]=1}(this,e,i,n,r,s,a),this}fromQuaternion(t){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=i+i,o=n+n,h=r+r,l=i*a,u=n*a,d=n*o,c=r*a,p=r*o,g=r*h,f=s*a,m=s*o,_=s*h;t[0]=1-d-g,t[1]=u+_,t[2]=c-m,t[3]=0,t[4]=u-_,t[5]=1-l-g,t[6]=p+f,t[7]=0,t[8]=c+m,t[9]=p-f,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],d=e[9],c=e[10],p=e[11],g=e[12],f=e[13],m=e[14],_=e[15],v=i*o-n*a,b=i*h-r*a,y=i*l-s*a,x=n*h-r*o,w=n*l-s*o,A=r*l-s*h,E=u*f-d*g,M=u*m-c*g,T=u*_-p*g,C=d*m-c*f,S=d*_-p*f,k=c*_-p*m,F=v*k-b*S+y*C+x*T-w*M+A*E;F&&(F=1/F,t[0]=(o*k-h*S+l*C)*F,t[1]=(r*S-n*k-s*C)*F,t[2]=(f*A-m*w+_*x)*F,t[3]=(c*w-d*A-p*x)*F,t[4]=(h*T-a*k-l*M)*F,t[5]=(i*k-r*T+s*M)*F,t[6]=(m*y-g*A-_*b)*F,t[7]=(u*A-c*y+p*b)*F,t[8]=(a*S-o*T+l*E)*F,t[9]=(n*T-i*S-s*E)*F,t[10]=(g*w-f*y+_*v)*F,t[11]=(d*y-u*w-p*v)*F,t[12]=(o*M-a*C-h*E)*F,t[13]=(i*C-n*M+r*E)*F,t[14]=(f*b-g*x-m*v)*F,t[15]=(u*x-d*b+c*v)*F)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}compose(t,e,i){return function(t,e,i,n){let r=e[0],s=e[1],a=e[2],o=e[3],h=r+r,l=s+s,u=a+a,d=r*h,c=r*l,p=r*u,g=s*l,f=s*u,m=a*u,_=o*h,v=o*l,b=o*u,y=n[0],x=n[1],w=n[2];t[0]=(1-(g+m))*y,t[1]=(c+b)*y,t[2]=(p-v)*y,t[3]=0,t[4]=(c-b)*x,t[5]=(1-(d+m))*x,t[6]=(f+_)*x,t[7]=0,t[8]=(p+v)*w,t[9]=(f-_)*w,t[10]=(1-(d+g))*w,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(this,t,e,i),this}getRotation(t){return W(t,this),this}getTranslation(t){return function(t,e){t[0]=e[12],t[1]=e[13],t[2]=e[14]}(t,this),this}getScaling(t){return q(t,this),this}getMaxScaleOnAxis(){return function(t){let e=t[0],i=t[1],n=t[2],r=t[4],s=t[5],a=t[6],o=t[8],h=t[9],l=t[10];const u=e*e+i*i+n*n,d=r*r+s*s+a*a,c=o*o+h*h+l*l;return Math.sqrt(Math.max(u,d,c))}(this)}lookAt(t,e,i){return function(t,e,i,n){let r=e[0],s=e[1],a=e[2],o=n[0],h=n[1],l=n[2],u=r-i[0],d=s-i[1],c=a-i[2],p=u*u+d*d+c*c;0===p?c=1:(p=1/Math.sqrt(p),u*=p,d*=p,c*=p);let g=h*c-l*d,f=l*u-o*c,m=o*d-h*u;p=g*g+f*f+m*m,0===p&&(l?o+=1e-6:h?l+=1e-6:h+=1e-6,g=h*c-l*d,f=l*u-o*c,m=o*d-h*u,p=g*g+f*f+m*m),p=1/Math.sqrt(p),g*=p,f*=p,m*=p,t[0]=g,t[1]=f,t[2]=m,t[3]=0,t[4]=d*m-c*f,t[5]=c*g-u*m,t[6]=u*f-d*g,t[7]=0,t[8]=u,t[9]=d,t[10]=c,t[11]=0,t[12]=r,t[13]=s,t[14]=a,t[15]=1}(this,t,e,i),this}determinant(){return function(t){let e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],d=t[10],c=t[11],p=t[12],g=t[13],f=t[14],m=t[15];return(e*a-i*s)*(d*m-c*f)-(e*o-n*s)*(u*m-c*g)+(e*h-r*s)*(u*f-d*g)+(i*o-n*a)*(l*m-c*p)-(i*h-r*a)*(l*f-d*p)+(n*h-r*o)*(l*g-u*p)}(this)}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}const j=new H;class Z extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YXZ";return super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t),this.order=e,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t){return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ";"XYZ"===i?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===i?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===i?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===i?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===i?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===i&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order),this.onChange(),this}fromQuaternion(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return j.fromQuaternion(t),this.fromRotationMatrix(j,e)}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class K{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new H,this.worldMatrix=new H,this.matrixAutoUpdate=!0,this.position=new S,this.quaternion=new X,this.scale=new S(1),this.rotation=new Z,this.up=new S(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function Q(t,e,i){let n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],d=e[8],c=i[0],p=i[1],g=i[2],f=i[3],m=i[4],_=i[5],v=i[6],b=i[7],y=i[8];return t[0]=c*n+p*a+g*l,t[1]=c*r+p*o+g*u,t[2]=c*s+p*h+g*d,t[3]=f*n+m*a+_*l,t[4]=f*r+m*o+_*u,t[5]=f*s+m*h+_*d,t[6]=v*n+b*a+y*l,t[7]=v*r+b*o+y*u,t[8]=v*s+b*h+y*d,t}class J extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:1),this}set(t,e,i,n,r,s,a,o,h){return t.length?this.copy(t):(function(t,e,i,n,r,s,a,o,h,l){t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=a,t[6]=o,t[7]=h,t[8]=l}(this,t,e,i,n,r,s,a,o,h),this)}translate(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],d=e[8],c=i[0],p=i[1];t[0]=n,t[1]=r,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=c*n+p*a+l,t[7]=c*r+p*o+u,t[8]=c*s+p*h+d}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}rotate(t){return function(t,e,i){let n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],d=e[8],c=Math.sin(i),p=Math.cos(i);t[0]=p*n+c*a,t[1]=p*r+c*o,t[2]=p*s+c*h,t[3]=p*a-c*n,t[4]=p*o-c*r,t[5]=p*h-c*s,t[6]=l,t[7]=u,t[8]=d}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}scale(t){return function(t,e,i){let n=i[0],r=i[1];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}multiply(t,e){return e?Q(this,t,e):Q(this,this,t),this}identity(){return function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(this),this}copy(t){return function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}(this,t),this}fromMatrix4(t){return function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10]}(this,t),this}fromQuaternion(t){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=i+i,o=n+n,h=r+r,l=i*a,u=n*a,d=n*o,c=r*a,p=r*o,g=r*h,f=s*a,m=s*o,_=s*h;t[0]=1-d-g,t[3]=u-_,t[6]=c+m,t[1]=u+_,t[4]=1-l-g,t[7]=p-f,t[2]=c-m,t[5]=p+f,t[8]=1-l-d}(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],d=u*a-o*l,c=-u*s+o*h,p=l*s-a*h,g=i*d+n*c+r*p;g&&(g=1/g,t[0]=d*g,t[1]=(-u*n+r*l)*g,t[2]=(o*n-r*a)*g,t[3]=c*g,t[4]=(u*i-r*h)*g,t[5]=(-o*i+r*s)*g,t[6]=p*g,t[7]=(-l*i+n*h)*g,t[8]=(a*i-n*s)*g)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}getNormalMatrix(t){return function(t,e){let i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],d=e[9],c=e[10],p=e[11],g=e[12],f=e[13],m=e[14],_=e[15],v=i*o-n*a,b=i*h-r*a,y=i*l-s*a,x=n*h-r*o,w=n*l-s*o,A=r*l-s*h,E=u*f-d*g,M=u*m-c*g,T=u*_-p*g,C=d*m-c*f,S=d*_-p*f,k=c*_-p*m,F=v*k-b*S+y*C+x*T-w*M+A*E;F&&(F=1/F,t[0]=(o*k-h*S+l*C)*F,t[1]=(h*T-a*k-l*M)*F,t[2]=(a*S-o*T+l*E)*F,t[3]=(r*S-n*k-s*C)*F,t[4]=(i*k-r*T+s*M)*F,t[5]=(n*T-i*S-s*E)*F,t[6]=(f*A-m*w+_*x)*F,t[7]=(m*y-g*A-_*b)*F,t[8]=(g*w-f*y+_*v)*F)}(this,t),this}}let tt=0;class et extends K{constructor(t){let{geometry:e,program:i,mode:n=t.TRIANGLES,frustumCulled:r=!0,renderOrder:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t.canvas,this.gl=t,this.id=tt++,this.geometry=e,this.program=i,this.mode=n,this.frustumCulled=r,this.renderOrder=s,this.modelViewMatrix=new H,this.normalMatrix=new J,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw(){let{camera:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.beforeRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t}))),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t})))}}const it=new Uint8Array(4);function nt(t){return 0==(t&t-1)}let rt=1;class st{constructor(t){let{image:e,target:i=t.TEXTURE_2D,type:n=t.UNSIGNED_BYTE,format:r=t.RGBA,internalFormat:s=r,wrapS:a=t.CLAMP_TO_EDGE,wrapT:o=t.CLAMP_TO_EDGE,generateMipmaps:h=!0,minFilter:l=(h?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:u=t.LINEAR,premultiplyAlpha:d=!1,unpackAlignment:c=4,flipY:p=i==t.TEXTURE_2D,anisotropy:g=0,level:f=0,width:m,height:_=m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=rt++,this.image=e,this.target=i,this.type=n,this.format=r,this.internalFormat=s,this.minFilter=l,this.magFilter=u,this.wrapS=a,this.wrapT=o,this.generateMipmaps=h,this.premultiplyAlpha=d,this.unpackAlignment=c,this.flipY=p,this.anisotropy=Math.min(g,this.gl.renderer.parameters.maxAnisotropy),this.level=f,this.width=m,this.height=_,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.image.crossOrigin&&this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||nt(this.image.width)&&nt(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,it);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,it);this.store.image=this.image}}}function at(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function ot(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function ht(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function lt(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function ut(t,e){return t[0]*e[1]-t[1]*e[0]}class dt extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t.length?this.copy(t):(function(t,e,i){t[0]=e,t[1]=i}(this,t,e),this)}copy(t){return function(t,e){t[0]=e[0],t[1]=e[1]}(this,t),this}add(t,e){return e?at(this,t,e):at(this,this,t),this}sub(t,e){return e?ot(this,t,e):ot(this,this,t),this}multiply(t){return t.length?function(t,e,i){t[0]=e[0]*i[0],t[1]=e[1]*i[1]}(this,this,t):ht(this,this,t),this}divide(t){return t.length?function(t,e,i){t[0]=e[0]/i[0],t[1]=e[1]/i[1]}(this,this,t):ht(this,this,1/t),this}inverse(){return function(t,e){t[0]=1/e[0],t[1]=1/e[1]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}len(){return lt(this)}distance(t){return t?function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}(this,t):lt(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}(this,t):function(t){var e=t[0],i=t[1];return e*e+i*i}(this)}negate(){return function(t,e){t[0]=-e[0],t[1]=-e[1]}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}cross(t,e){return e?ut(t,e):ut(this,t)}scale(t){return ht(this,this,t),this}normalize(){return function(t,e){var i=e[0],n=e[1],r=i*i+n*n;r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r}(this,this),this}dot(t){return function(t,e){return t[0]*e[0]+t[1]*e[1]}(this,t)}equals(t){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(this,t)}applyMatrix3(t){return function(t,e,i){var n=e[0],r=e[1];t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7]}(this,this,t),this}applyMatrix4(t){return function(t,e,i){let n=e[0],r=e[1];t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13]}(this,this,t),this}lerp(t,e){return function(t,e,i,n){var r=e[0],s=e[1];t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s)}(this,this,t,e),this}clone(){return new dt(this[0],this[1])}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t}}class ct extends D{constructor(t){let{attributes:e={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ft,mt,_t,vt,bt,yt,xt,wt,At,Et,Mt,Tt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ct={duration:.5,overwrite:!1,delay:0},St=1e8,kt=1e-8,Ft=2*Math.PI,Ot=Ft/4,Lt=0,Dt=Math.sqrt,Rt=Math.cos,Pt=Math.sin,Bt=function(t){return"string"==typeof t},$t=function(t){return"function"==typeof t},It=function(t){return"number"==typeof t},zt=function(t){return typeof t>"u"},Nt=function(t){return"object"==typeof t},Ut=function(t){return!1!==t},Vt=function(){return typeof window<"u"},Yt=function(t){return $t(t)||Bt(t)},Xt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Gt=Array.isArray,qt=/(?:-?\.?\d|\.)+/gi,Wt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ht=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,jt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Zt=/[+-]=-?[.\d]+/,Kt=/[^,'"\[\]\s]+/gi,Qt=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Jt={},te={},ee=function(t){return(te=ke(t,Jt))&&Fn},ie=function(t,e){return!e&&void 0},ne=function(t,e){return t&&(Jt[t]=e)&&te&&(te[t]=e)||Jt},re=function(){return 0},se={suppressEvents:!0,isStart:!0,kill:!1},ae={suppressEvents:!0,kill:!1},oe={suppressEvents:!0},he={},le=[],ue={},de={},ce={},pe=30,ge=[],fe="",me=function(t){var e,i,n=t[0];if(Nt(n)||$t(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=ge.length;i--&&!ge[i].targetTest(n););e=ge[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Yi(t[i],e)))||t.splice(i,1);return t},_e=function(t){return t._gsap||me(ai(t))[0]._gsap},ve=function(t,e,i){return(i=t[e])&&$t(i)?t[e]():zt(i)&&t.getAttribute&&t.getAttribute(e)||i},be=function(t,e){return(t=t.split(",")).forEach(e)||t},ye=function(t){return Math.round(1e5*t)/1e5||0},xe=function(t){return Math.round(1e7*t)/1e7||0},we=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+n:"-"===i?t-n:"*"===i?t*n:t/n},Ae=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Ee=function(){var t,e,i=le.length,n=le.slice(0);for(ue={},le.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Me=function(t,e,i,n){le.length&&!mt&&Ee(),t.render(e,i,n||mt&&e<0&&(t._initted||t._startAt)),le.length&&!mt&&Ee()},Te=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Kt).length<2?e:Bt(t)?t.trim():t},Ce=function(t){return t},Se=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},ke=function(t,e){for(var i in e)t[i]=e[i];return t},Fe=function t(e,i){for(var n in i)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=Nt(i[n])?t(e[n]||(e[n]={}),i[n]):i[n]);return e},Oe=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},Le=function(t){var e=t.parent||vt,i=t.keyframes?function(t){return function(e,i){for(var n in i)n in e||"duration"===n&&t||"ease"===n||(e[n]=i[n])}}(Gt(t.keyframes)):Se;if(Ut(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},De=function(t,e,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s,a=t[n];if(r)for(s=e[r];a&&a[r]>s;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=a,e.parent=e._dp=t,e},Re=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},Pe=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Be=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},$e=function(t,e,i,n){return t._startAt&&(mt?t._startAt.revert(ae):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},Ie=function t(e){return!e||e._ts&&t(e.parent)},ze=function(t){return t._repeat?Ne(t._tTime,t=t.duration()+t._rDelay)*t:0},Ne=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Ue=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ve=function(t){return t._end=xe(t._start+(t._tDur/Math.abs(t._ts||t._rts||kt)||0))},Ye=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=xe(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ve(t),i._dirty||Be(i,t)),t},Xe=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=Ue(t.rawTime(),e),(!e._dur||ii(0,e.totalDuration(),i)-e._tTime>kt)&&e.render(i,!0)),Be(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-kt}},Ge=function(t,e,i,n){return e.parent&&Pe(e),e._start=xe((It(i)?i:i||t!==vt?Je(t,i,e):t._time)+e._delay),e._end=xe(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),De(t,e,"_first","_last",t._sort?"_start":0),je(e)||(t._recent=e),n||Xe(t,e),t._ts<0&&Ye(t,t._tTime),t},qe=function(t,e){return Jt.ScrollTrigger?Jt.ScrollTrigger.create(e,t):void 0},We=function(t,e,i,n,r){return Ki(t,e,r),t._initted?!i&&t._pt&&!mt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&At!==Fi.frame?(le.push(t),t._lazy=[r,n],1):void 0:1},He=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},je=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Ze=function(t,e,i,n){var r=t._repeat,s=xe(e)||0,a=t._tTime/t._tDur;return a&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:xe(s*(r+1)+t._rDelay*r):s,a>0&&!n&&Ye(t,t._tTime=t._tDur*a),t.parent&&Ve(t),i||Be(t.parent,t),t},Ke=function(t){return t instanceof Gi?Be(t):Ze(t,t._dur)},Qe={_start:0,endTime:re,totalDuration:re},Je=function t(e,i,n){var r,s,a,o=e.labels,h=e._recent||Qe,l=e.duration()>=St?h.endTime(!1):e._dur;return Bt(i)&&(isNaN(i)||i in o)?(s=i.charAt(0),a="%"===i.substr(-1),r=i.indexOf("="),"<"===s||">"===s?(r>=0&&(i=i.replace(/=/,"")),("<"===s?h._start:h.endTime(h._repeat>=0))+(parseFloat(i.substr(1))||0)*(a?(r<0?h:n).totalDuration()/100:1)):r<0?(i in o||(o[i]=l),o[i]):(s=parseFloat(i.charAt(r-1)+i.substr(r+1)),a&&n&&(s=s/100*(Gt(n)?n[0]:n).totalDuration()),r>1?t(e,i.substr(0,r-1),n)+s:l+s)):null==i?l:+i},ti=function(t,e,i){var n,r,s=It(e[1]),a=(s?2:1)+(t<2?0:1),o=e[a];if(s&&(o.duration=e[1]),o.parent=i,t){for(n=o,r=i;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=Ut(r.vars.inherit)&&r.parent;o.immediateRender=Ut(n.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return new nn(e[0],o,e[a+1])},ei=function(t,e){return t||0===t?e(t):e},ii=function(t,e,i){return i<t?t:i>e?e:i},ni=function(t,e){return Bt(t)&&(e=Qt.exec(t))?e[1]:""},ri=[].slice,si=function(t,e){return t&&Nt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Nt(t[0]))&&!t.nodeType&&t!==bt},ai=function(t,e,i){return _t&&!e&&_t.selector?_t.selector(t):!Bt(t)||i||!yt&&Oi()?Gt(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var n;return Bt(t)&&!e||si(t,1)?(n=i).push.apply(n,ai(t)):i.push(t)}))||i}(t,i):si(t)?ri.call(t,0):t?[t]:[]:ri.call((e||xt).querySelectorAll(t),0)},oi=function(t){return t=ai(t)[0]||ie()||{},function(e){var i=t.current||t.nativeElement||t;return ai(e,i.querySelectorAll?i:i===t?ie()||xt.createElement("div"):t)}},hi=function(t){return t.sort((function(){return.5-Math.random()}))},li=function(t){if($t(t))return t;var e=Nt(t)?t:{each:t},i=Ii(e.ease),n=e.from||0,r=parseFloat(e.base)||0,s={},a=n>0&&n<1,o=isNaN(n)||a,h=e.axis,l=n,u=n;return Bt(n)?l=u={center:.5,edges:.5,end:1}[n]||0:!a&&o&&(l=n[0],u=n[1]),function(t,a,d){var c,p,g,f,m,_,v,b,y,x=(d||e).length,w=s[x];if(!w){if(!(y="auto"===e.grid?0:(e.grid||[1,St])[1])){for(v=-St;v<(v=d[y++].getBoundingClientRect().left)&&y<x;);y--}for(w=s[x]=[],c=o?Math.min(y,x)*l-.5:n%y,p=y===St?0:o?x*u/y-.5:n/y|0,v=0,b=St,_=0;_<x;_++)g=_%y-c,f=p-(_/y|0),w[_]=m=h?Math.abs("y"===h?f:g):Dt(g*g+f*f),m>v&&(v=m),m<b&&(b=m);"random"===n&&hi(w),w.max=v-b,w.min=b,w.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(y>x?x-1:h?"y"===h?x/y:y:Math.max(y,x/y))||0)*("edges"===n?-1:1),w.b=x<0?r-x:r,w.u=ni(e.amount||e.each)||0,i=i&&x<0?Bi(i):i}return x=(w[t]-w.min)/w.max||0,xe(w.b+(i?i(x):x)*w.v)+w.u}},ui=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=xe(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(It(i)?0:ni(i))}},di=function(t,e){var i,n,r=Gt(t);return!r&&Nt(t)&&(i=r=t.radius||St,t.values?(t=ai(t.values),(n=!It(t[0]))&&(i*=i)):t=ui(t.increment)),ei(e,r?$t(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var r,s,a=parseFloat(n?e.x:e),o=parseFloat(n?e.y:0),h=St,l=0,u=t.length;u--;)(r=n?(r=t[u].x-a)*r+(s=t[u].y-o)*s:Math.abs(t[u]-a))<h&&(h=r,l=u);return l=!i||h<=i?t[l]:e,n||l===e||It(e)?l:l+ni(e)}:ui(t))},ci=function(t,e,i,n){return ei(Gt(t)?!e:!0===i?!!(i=0):!n,(function(){return Gt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n}))},pi=function(t,e,i){return ei(i,(function(i){return t[~~e(i)]}))},gi=function(t){for(var e,i,n,r,s=0,a="";~(e=t.indexOf("random(",s));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?Kt:qt),a+=t.substr(s,e-s)+ci(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),s=n+1;return a+t.substr(s,t.length-s)},fi=function(t,e,i,n,r){var s=e-t,a=n-i;return ei(r,(function(e){return i+((e-t)/s*a||0)}))},mi=function(t,e,i){var n,r,s,a=t.labels,o=St;for(n in a)(r=a[n]-e)<0==!!i&&r&&o>(r=Math.abs(r))&&(s=n,o=r);return s},_i=function(t,e,i){var n,r,s,a=t.vars,o=a[e],h=_t,l=t._ctx;if(o)return n=a[e+"Params"],r=a.callbackScope||t,i&&le.length&&Ee(),l&&(_t=l),s=n?o.apply(r,n):o.call(r),_t=h,s},vi=function(t){return Pe(t),t.scrollTrigger&&t.scrollTrigger.kill(!!mt),t.progress()<1&&_i(t,"onInterrupt"),t},bi=[],yi=function(t){if(Vt()&&t){var e=(t=!t.name&&t.default||t).name,i=$t(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:re,render:cn,add:ji,kill:gn,modifier:pn,rawVars:0},s={targetTest:0,get:0,getSetter:hn,aliases:{},register:0};if(Oi(),t!==n){if(de[e])return;Se(n,Se(Oe(t,r),s)),ke(n.prototype,ke(r,Oe(t,s))),de[n.prop=e]=n,t.targetTest&&(ge.push(n),he[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ne(e,n),t.register&&t.register(Fn,n,_n)}else t&&bi.push(t)},xi=255,wi={aqua:[0,xi,xi],lime:[0,xi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xi],navy:[0,0,128],white:[xi,xi,xi],olive:[128,128,0],yellow:[xi,xi,0],orange:[xi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xi,0,0],pink:[xi,192,203],cyan:[0,xi,xi],transparent:[xi,xi,xi,0]},Ai=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*xi+.5|0},Ei=function(t,e,i){var n,r,s,a,o,h,l,u,d,c,p=t?It(t)?[t>>16,t>>8&xi,t&xi]:0:wi.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),wi[t])p=wi[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&xi,p&xi,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&xi,t&xi]}else if("hsl"===t.substr(0,3))if(p=c=t.match(qt),e){if(~t.indexOf("="))return p=t.match(Wt),i&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,o=+p[1]/100,n=2*(h=+p[2]/100)-(r=h<=.5?h*(o+1):h+o-h*o),p.length>3&&(p[3]*=1),p[0]=Ai(a+1/3,n,r),p[1]=Ai(a,n,r),p[2]=Ai(a-1/3,n,r);else p=t.match(qt)||wi.transparent;p=p.map(Number)}return e&&!c&&(n=p[0]/xi,r=p[1]/xi,s=p[2]/xi,h=((l=Math.max(n,r,s))+(u=Math.min(n,r,s)))/2,l===u?a=o=0:(d=l-u,o=h>.5?d/(2-l-u):d/(l+u),a=l===n?(r-s)/d+(r<s?6:0):l===r?(s-n)/d+2:(n-r)/d+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*o+.5),p[2]=~~(100*h+.5)),i&&p.length<4&&(p[3]=1),p},Mi=function(t){var e=[],i=[],n=-1;return t.split(Ci).forEach((function(t){var r=t.match(Ht)||[];e.push.apply(e,r),i.push(n+=r.length+1)})),e.c=i,e},Ti=function(t,e,i){var n,r,s,a,o="",h=(t+o).match(Ci),l=e?"hsla(":"rgba(",u=0;if(!h)return t;if(h=h.map((function(t){return(t=Ei(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(s=Mi(t),(n=i.c).join(o)!==s.c.join(o)))for(a=(r=t.replace(Ci,"1").split(Ht)).length-1;u<a;u++)o+=r[u]+(~n.indexOf(u)?h.shift()||l+"0,0,0,0)":(s.length?s:h.length?h:i).shift());if(!r)for(a=(r=t.split(Ci)).length-1;u<a;u++)o+=r[u]+h[u];return o+r[a]},Ci=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in wi)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Si=/hsl[a]?\(/,ki=function(t){var e,i=t.join(" ");if(Ci.lastIndex=0,Ci.test(i))return e=Si.test(i),t[1]=Ti(t[1],e),t[0]=Ti(t[0],e,Mi(t[1])),!0},Fi=function(){var t,e,i,n,r,s,a=Date.now,o=500,h=33,l=a(),u=l,d=1e3/240,c=d,p=[],g=function i(g){var f,m,_,v,b=a()-u,y=!0===g;if(b>o&&(l+=b-h),((f=(_=(u+=b)-l)-c)>0||y)&&(v=++n.frame,r=_-1e3*n.time,n.time=_/=1e3,c+=f+(f>=d?4:d-f),m=1),y||(t=e(i)),m)for(s=0;s<p.length;s++)p[s](_,r,v,g)};return n={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(t){return r/(1e3/(t||60))},wake:function(){wt&&(!yt&&Vt()&&(bt=yt=window,xt=bt.document||{},Jt.gsap=Fn,(bt.gsapVersions||(bt.gsapVersions=[])).push(Fn.version),ee(te||bt.GreenSockGlobals||!bt.gsap&&bt||{}),i=bt.requestAnimationFrame,bi.forEach(yi)),t&&n.sleep(),e=i||function(t){return setTimeout(t,c-1e3*n.time+1|0)},Mt=1,g(2))},sleep:function(){(i?bt.cancelAnimationFrame:clearTimeout)(t),Mt=0,e=re},lagSmoothing:function(t,e){o=t||1/0,h=Math.min(e||33,o)},fps:function(t){d=1e3/(t||240),c=1e3*n.time+d},add:function(t,e,i){var r=e?function(e,i,s,a){t(e,i,s,a),n.remove(r)}:t;return n.remove(t),p[i?"unshift":"push"](r),Oi(),r},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&s>=e&&s--},_listeners:p},n}(),Oi=function(){return!Mt&&Fi.wake()},Li={},Di=/^[\d.\-M][\d.\-,\s]/,Ri=/["']/g,Pi=function(t){for(var e,i,n,r={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,h=s.length;o<h;o++)i=s[o],e=o!==h-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[a]=isNaN(n)?n.replace(Ri,"").trim():+n,a=i.substr(e+1).trim();return r},Bi=function(t){return function(e){return 1-t(1-e)}},$i=function t(e,i){for(var n,r=e._first;r;)r instanceof Gi?t(r,i):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==i&&(r.timeline?t(r.timeline,i):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=i)),r=r._next},Ii=function(t,e){return t&&($t(t)?t:Li[t]||function(t){var e=(t+"").split("("),i=Li[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Pi(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)}(t).split(",").map(Te)):Li._CE&&Di.test(t)?Li._CE("",t):i}(t))||e},zi=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:i,easeInOut:n};return be(t,(function(t){for(var e in Li[t]=Jt[t]=s,Li[r=t.toLowerCase()]=i,s)Li[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Li[t+"."+e]=s[e]})),s},Ni=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ui=function t(e,i,n){var r=i>=1?i:1,s=(n||(e?.3:.45))/(i<1?i:1),a=s/Ft*(Math.asin(1/r)||0),o=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Pt((t-a)*s)+1},h="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Ni(o);return s=Ft/s,h.config=function(i,n){return t(e,i,n)},h},Vi=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},r="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Ni(n);return r.config=function(i){return t(e,i)},r};be("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;zi(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Li.Linear.easeNone=Li.none=Li.Linear.easeIn,zi("Elastic",Ui("in"),Ui("out"),Ui()),function(t,e){var i=function(i){return i<.36363636363636365?t*i*i:i<.7272727272727273?t*Math.pow(i-1.5/e,2)+.75:i<.9090909090909092?t*(i-=2.25/e)*i+.9375:t*Math.pow(i-2.625/e,2)+.984375};zi("Bounce",(function(t){return 1-i(1-t)}),i)}(7.5625,2.75),zi("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),zi("Circ",(function(t){return-(Dt(1-t*t)-1)})),zi("Sine",(function(t){return 1===t?1:1-Rt(t*Ot)})),zi("Back",Vi("in"),Vi("out"),Vi()),Li.SteppedEase=Li.steps=Jt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*ii(0,.99999999,t)|0)+r)*i}}},Ct.ease=Li["quad.out"],be("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return fe+=t+","+t+"Params,"}));var Yi=function(t,e){this.id=Lt++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ve,this.set=e?e.getSetter:hn},Xi=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ze(this,+t.duration,1,1),this.data=t.data,_t&&(this._ctx=_t,_t.data.push(this)),Mt||Fi.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Ze(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Oi(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Ye(this,t),!i._dp||i.parent||Xe(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Ge(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===kt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Me(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+ze(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+ze(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Ne(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return this._rts===-kt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Ue(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-kt?0:this._rts,this.totalTime(ii(-Math.abs(this._delay),this._tDur,e),!0),Ve(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Oi(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==kt&&(this._tTime-=kt)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Ge(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Ut(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ue(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=oe);var e=mt;return mt=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),mt=e,this},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(t):i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ke(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ke(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Je(this,t),Ut(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Ut(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-kt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-kt,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-kt))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(i){var n=$t(t)?t:Ce,r=function(){var t=e.then;e.then=null,$t(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){vi(this)},t}();Se(Xi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-kt,_prom:0,_ps:!1,_rts:1});var Gi=function(t){function e(e,i){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=Ut(e.sortChildren),vt&&Ge(e.parent||vt,pt(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&qe(pt(n),e.scrollTrigger),n}gt(e,t);var i=e.prototype;return i.to=function(t,e,i){return ti(0,arguments,this),this},i.from=function(t,e,i){return ti(1,arguments,this),this},i.fromTo=function(t,e,i,n){return ti(2,arguments,this),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,Le(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new nn(t,e,Je(this,i),1),this},i.call=function(t,e,i){return Ge(this,nn.delayedCall(0,t,e),i)},i.staggerTo=function(t,e,i,n,r,s,a){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=s,i.onCompleteParams=a,i.parent=this,new nn(t,i,Je(this,r)),this},i.staggerFrom=function(t,e,i,n,r,s,a){return i.runBackwards=1,Le(i).immediateRender=Ut(i.immediateRender),this.staggerTo(t,e,i,n,r,s,a)},i.staggerFromTo=function(t,e,i,n,r,s,a,o){return n.startAt=i,Le(n).immediateRender=Ut(n.immediateRender),this.staggerTo(t,e,n,r,s,a,o)},i.render=function(t,e,i){var n,r,s,a,o,h,l,u,d,c,p,g,f=this._time,m=this._dirty?this.totalDuration():this._tDur,_=this._dur,v=t<=0?0:xe(t),b=this._zTime<0!=t<0&&(this._initted||!_);if(this!==vt&&v>m&&t>=0&&(v=m),v!==this._tTime||i||b){if(f!==this._time&&_&&(v+=this._time-f,t+=this._time-f),n=v,d=this._start,h=!(u=this._ts),b&&(_||(f=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,o=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(n=xe(v%o),v===m?(a=this._repeat,n=_):((a=~~(v/o))&&a===v/o&&(n=_,a--),n>_&&(n=_)),c=Ne(this._tTime,o),!f&&this._tTime&&c!==a&&this._tTime-c*o-this._dur<=0&&(c=a),p&&1&a&&(n=_-n,g=1),a!==c&&!this._lock){var y=p&&1&c,x=y===(p&&1&a);if(a<c&&(y=!y),f=y?0:v%_?_:v,this._lock=1,this.render(f||(g?0:xe(a*o)),e,!_)._lock=0,this._tTime=v,!e&&this.parent&&_i(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),f&&f!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,m=this._tDur,x&&(this._lock=2,f=y?_:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;$i(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,xe(f),xe(n)),l&&(v-=n-(n=l._start))),this._tTime=v,this._time=n,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,f=0),!f&&n&&!e&&!a&&(_i(this,"onStart"),this._tTime!==v))return this;if(n>=f&&t>=0)for(r=this._first;r;){if(s=r._next,(r._act||n>=r._start)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(r._ts>0?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,e,i),n!==this._time||!this._ts&&!h){l=0,s&&(v+=this._zTime=-kt);break}}r=s}else{r=this._last;for(var w=t<0?t:n;r;){if(s=r._prev,(r._act||w<=r._end)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(r._ts>0?(w-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(w-r._start)*r._ts,e,i||mt&&(r._initted||r._startAt)),n!==this._time||!this._ts&&!h){l=0,s&&(v+=this._zTime=w?-kt:kt);break}}r=s}}if(l&&!e&&(this.pause(),l.render(n>=f?0:-kt)._zTime=n>=f?1:-1,this._ts))return this._start=d,Ve(this),this.render(t,e,i);this._onUpdate&&!e&&_i(this,"onUpdate",!0),(v===m&&this._tTime>=this.totalDuration()||!v&&f)&&(d===this._start||Math.abs(u)!==Math.abs(this._ts))&&(this._lock||((t||!_)&&(v===m&&this._ts>0||!v&&this._ts<0)&&Pe(this,1),!e&&(!(t<0)||f)&&(v||f||!m)&&(_i(this,v===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<m&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(It(e)||(e=Je(this,e,t)),!(t instanceof Xi)){if(Gt(t))return t.forEach((function(t){return i.add(t,e)})),this;if(Bt(t))return this.addLabel(t,e);if(!$t(t))return this;t=nn.delayedCall(0,t)}return this!==t?Ge(this,t,e):this},i.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-St);for(var r=[],s=this._first;s;)s._start>=n&&(s instanceof nn?e&&r.push(s):(i&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,i)))),s=s._next;return r},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return Bt(t)?this.removeLabel(t):$t(t)?this.killTweensOf(t):(Re(this,t),t===this._recent&&(this._recent=this._last),Be(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xe(Fi.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=Je(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var n=nn.delayedCall(0,e||re,i);return n.data="isPause",this._hasPause=1,Ge(this,n,Je(this,t))},i.removePause=function(t){var e=this._first;for(t=Je(this,t);e;)e._start===t&&"isPause"===e.data&&Pe(e),e=e._next},i.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)qi!==n[r]&&n[r].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,n=[],r=ai(t),s=this._first,a=It(e);s;)s instanceof nn?Ae(s._targets,r)&&(a?(!qi||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&n.push(s):(i=s.getTweensOf(r,e)).length&&n.push.apply(n,i),s=s._next;return n},i.tweenTo=function(t,e){e=e||{};var i,n=this,r=Je(n,t),s=e,a=s.startAt,o=s.onStart,h=s.onStartParams,l=s.immediateRender,u=nn.to(n,Se({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale())||kt,onStart:function(){if(n.pause(),!i){var t=e.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale());u._dur!==t&&Ze(u,t,0,1).render(u._time,!0,!0),i=1}o&&o.apply(u,h||[])}},e));return l?u.render(0):u},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Se({startAt:{time:Je(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),mi(this,Je(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),mi(this,Je(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+kt)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,s=this.labels;r;)r._start>=i&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return Be(this)},i.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Be(this)},i.totalDuration=function(t){var e,i,n,r=0,s=this,a=s._last,o=St;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(i=a._start)>o&&s._sort&&a._ts&&!s._lock?(s._lock=1,Ge(s,a,i-a._delay,1)._lock=0):o=i,i<0&&a._ts&&(r-=i,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1/0),o=0),a._end>r&&a._ts&&(r=a._end),a=e;Ze(s,s===vt&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(vt._ts&&(Me(vt,Ue(t,vt)),At=Fi.frame),Fi.frame>=pe){pe+=Tt.autoSleep||120;var e=vt._first;if((!e||!e._ts)&&Tt.autoSleep&&Fi._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Fi.sleep()}}},e}(Xi);Se(Gi.prototype,{_lock:0,_hasPause:0,_forcing:0});var qi,Wi,Hi=function(t,e,i,n,r,s,a){var o,h,l,u,d,c,p,g,f=new _n(this._pt,t,e,0,1,dn,null,r),m=0,_=0;for(f.b=i,f.e=n,i+="",(p=~(n+="").indexOf("random("))&&(n=gi(n)),s&&(s(g=[i,n],t,e),i=g[0],n=g[1]),h=i.match(jt)||[];o=jt.exec(n);)u=o[0],d=n.substring(m,o.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),u!==h[_++]&&(c=parseFloat(h[_-1])||0,f._pt={_next:f._pt,p:d||1===_?d:",",s:c,c:"="===u.charAt(1)?we(c,u)-c:parseFloat(u)-c,m:l&&l<4?Math.round:0},m=jt.lastIndex);return f.c=m<n.length?n.substring(m,n.length):"",f.fp=a,(Zt.test(n)||p)&&(f.e=0),this._pt=f,f},ji=function(t,e,i,n,r,s,a,o,h,l){$t(n)&&(n=n(r||0,t,s));var u,d=t[e],c="get"!==i?i:$t(d)?h?t[e.indexOf("set")||!$t(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():d,p=$t(d)?h?an:sn:rn;if(Bt(n)&&(~n.indexOf("random(")&&(n=gi(n)),"="===n.charAt(1)&&((u=we(c,n)+(ni(c)||0))||0===u)&&(n=u)),!l||c!==n||Wi)return isNaN(c*n)||""===n?Hi.call(this,t,e,c,n,p,o||Tt.stringFilter,h):(u=new _n(this._pt,t,e,+c||0,n-(c||0),"boolean"==typeof d?un:ln,0,p),h&&(u.fp=h),a&&u.modifier(a,this,t),this._pt=u)},Zi=function(t,e,i,n,r,s){var a,o,h,l;if(de[t]&&!1!==(a=new de[t]).init(r,a.rawVars?e[t]:function(t,e,i,n,r){if($t(t)&&(t=Ji(t,r,e,i,n)),!Nt(t)||t.style&&t.nodeType||Gt(t)||Xt(t))return Bt(t)?Ji(t,r,e,i,n):t;var s,a={};for(s in t)a[s]=Ji(t[s],r,e,i,n);return a}(e[t],n,r,s,i),i,n,s)&&(i._pt=o=new _n(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==Et))for(h=i._ptLookup[i._targets.indexOf(r)],l=a._props.length;l--;)h[a._props[l]]=o;return a},Ki=function t(e,i,n){var r,s,a,o,h,l,u,d,c,p,g,f,m,_=e.vars,v=_.ease,b=_.startAt,y=_.immediateRender,x=_.lazy,w=_.onUpdate,A=_.onUpdateParams,E=_.callbackScope,M=_.runBackwards,T=_.yoyoEase,C=_.keyframes,S=_.autoRevert,k=e._dur,F=e._startAt,O=e._targets,L=e.parent,D=L&&"nested"===L.data?L.vars.targets:O,R="auto"===e._overwrite&&!ft,P=e.timeline;if(P&&(!C||!v)&&(v="none"),e._ease=Ii(v,Ct.ease),e._yEase=T?Bi(Ii(!0===T?v:T,Ct.ease)):0,T&&e._yoyo&&!e._repeat&&(T=e._yEase,e._yEase=e._ease,e._ease=T),e._from=!P&&!!_.runBackwards,!P||C&&!_.stagger){if(f=(d=O[0]?_e(O[0]).harness:0)&&_[d.prop],r=Oe(_,he),F&&(F._zTime<0&&F.progress(1),i<0&&M&&y&&!S?F.render(-1,!0):F.revert(M&&k?ae:se),F._lazy=0),b){if(Pe(e._startAt=nn.set(O,Se({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!F&&Ut(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:A,callbackScope:E,stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(mt||!y&&!S)&&e._startAt.revert(ae),y&&k&&i<=0&&n<=0)return void(i&&(e._zTime=i))}else if(M&&k&&!F)if(i&&(y=!1),a=Se({overwrite:!1,data:"isFromStart",lazy:y&&!F&&Ut(x),immediateRender:y,stagger:0,parent:L},r),f&&(a[d.prop]=f),Pe(e._startAt=nn.set(O,a)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(mt?e._startAt.revert(ae):e._startAt.render(-1,!0)),e._zTime=i,y){if(!i)return}else t(e._startAt,kt,kt);for(e._pt=e._ptCache=0,x=k&&Ut(x)||x&&!k,s=0;s<O.length;s++){if(u=(h=O[s])._gsap||me(O)[s]._gsap,e._ptLookup[s]=p={},ue[u.id]&&le.length&&Ee(),g=D===O?s:D.indexOf(h),d&&!1!==(c=new d).init(h,f||r,e,g,D)&&(e._pt=o=new _n(e._pt,h,c.name,0,1,c.render,c,0,c.priority),c._props.forEach((function(t){p[t]=o})),c.priority&&(l=1)),!d||f)for(a in r)de[a]&&(c=Zi(a,r,e,g,h,D))?c.priority&&(l=1):p[a]=o=ji.call(e,h,a,"get",r[a],g,D,0,_.stringFilter);e._op&&e._op[s]&&e.kill(h,e._op[s]),R&&e._pt&&(qi=e,vt.killTweensOf(h,p,e.globalTime(i)),m=!e.parent,qi=0),e._pt&&x&&(ue[u.id]=1)}l&&mn(e),e._onInit&&e._onInit(e)}e._onUpdate=w,e._initted=(!e._op||e._pt)&&!m,C&&i<=0&&P.render(St,!0,!0)},Qi=function(t,e,i,n){var r,s,a=e.ease||n||"power1.inOut";if(Gt(e))s=i[t]||(i[t]=[]),e.forEach((function(t,i){return s.push({t:i/(e.length-1)*100,v:t,e:a})}));else for(r in e)s=i[r]||(i[r]=[]),"ease"===r||s.push({t:parseFloat(t),v:e[r],e:a})},Ji=function(t,e,i,n,r){return $t(t)?t.call(e,i,n,r):Bt(t)&&~t.indexOf("random(")?gi(t):t},tn=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",en={};be(tn+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return en[t]=1}));var nn=function(t){function e(e,i,n,r){var s;"number"==typeof i&&(n.duration=i,i=n,n=null);var a,o,h,l,u,d,c,p,g=(s=t.call(this,r?i:Le(i))||this).vars,f=g.duration,m=g.delay,_=g.immediateRender,v=g.stagger,b=g.overwrite,y=g.keyframes,x=g.defaults,w=g.scrollTrigger,A=g.yoyoEase,E=i.parent||vt,M=(Gt(e)||Xt(e)?It(e[0]):"length"in i)?[e]:ai(e);if(s._targets=M.length?me(M):ie(0,!Tt.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=b,y||v||Yt(f)||Yt(m)){if(i=s.vars,(a=s.timeline=new Gi({data:"nested",defaults:x||{},targets:E&&"nested"===E.data?E.vars.targets:M})).kill(),a.parent=a._dp=pt(s),a._start=0,v||Yt(f)||Yt(m)){if(l=M.length,c=v&&li(v),Nt(v))for(u in v)~tn.indexOf(u)&&(p||(p={}),p[u]=v[u]);for(o=0;o<l;o++)(h=Oe(i,en)).stagger=0,A&&(h.yoyoEase=A),p&&ke(h,p),d=M[o],h.duration=+Ji(f,pt(s),o,d,M),h.delay=(+Ji(m,pt(s),o,d,M)||0)-s._delay,!v&&1===l&&h.delay&&(s._delay=m=h.delay,s._start+=m,h.delay=0),a.to(d,h,c?c(o,d,M):0),a._ease=Li.none;a.duration()?f=m=0:s.timeline=0}else if(y){Le(Se(a.vars.defaults,{ease:"none"})),a._ease=Ii(y.ease||i.ease||"none");var T,C,S,k=0;if(Gt(y))y.forEach((function(t){return a.to(M,t,">")})),a.duration();else{for(u in h={},y)"ease"===u||"easeEach"===u||Qi(u,y[u],h,y.easeEach);for(u in h)for(T=h[u].sort((function(t,e){return t.t-e.t})),k=0,o=0;o<T.length;o++)(S={ease:(C=T[o]).e,duration:(C.t-(o?T[o-1].t:0))/100*f})[u]=C.v,a.to(M,S,k),k+=S.duration;a.duration()<f&&a.to({},{duration:f-a.duration()})}}f||s.duration(f=a.duration())}else s.timeline=0;return!0===b&&!ft&&(qi=pt(s),vt.killTweensOf(M),qi=0),Ge(E,pt(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),(_||!f&&!y&&s._start===xe(E._time)&&Ut(_)&&Ie(pt(s))&&"nested"!==E.data)&&(s._tTime=-kt,s.render(Math.max(0,-m)||0)),w&&qe(pt(s),w),s}gt(e,t);var i=e.prototype;return i.render=function(t,e,i){var n,r,s,a,o,h,l,u,d,c=this._time,p=this._tDur,g=this._dur,f=t<0,m=t>p-kt&&!f?p:t<kt?0:t;if(g){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(n=m,u=this.timeline,this._repeat){if(a=g+this._rDelay,this._repeat<-1&&f)return this.totalTime(100*a+t,e,i);if(n=xe(m%a),m===p?(s=this._repeat,n=g):((s=~~(m/a))&&s===m/a&&(n=g,s--),n>g&&(n=g)),(h=this._yoyo&&1&s)&&(d=this._yEase,n=g-n),o=Ne(this._tTime,a),n===c&&!i&&this._initted)return this._tTime=m,this;s!==o&&(u&&this._yEase&&$i(u,h),this.vars.repeatRefresh&&!h&&!this._lock&&(this._lock=i=1,this.render(xe(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(We(this,f?t:n,i,e,m))return this._tTime=0,this;if(c!==this._time)return this;if(g!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(n/g),this._from&&(this.ratio=l=1-l),n&&!c&&!e&&!s&&(_i(this,"onStart"),this._tTime!==m))return this;for(r=this._pt;r;)r.r(l,r.d),r=r._next;u&&u.render(t<0?t:!n&&h?-kt:u._dur*u._ease(n/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(f&&$e(this,t,0,i),_i(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&_i(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(f&&!this._onUpdate&&$e(this,t,0,!0),(t||!g)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Pe(this,1),!e&&(!f||c)&&(m||c||h)&&(_i(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,n){var r,s,a,o=t.ratio,h=e<0||!e&&(!t._start&&He(t)&&(t._initted||!je(t))||(t._ts<0||t._dp._ts<0)&&!je(t))?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=ii(0,t._tDur,e),s=Ne(u,l),t._yoyo&&1&s&&(h=1-h),s!==Ne(t._tTime,l)&&(o=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==o||mt||n||t._zTime===kt||!e&&t._zTime){if(!t._initted&&We(t,e,n,i,u))return;for(a=t._zTime,t._zTime=e||(i?kt:0),i||(i=e&&!a),t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=u,r=t._pt;r;)r.r(h,r.d),r=r._next;e<0&&$e(t,e,0,!0),t._onUpdate&&!i&&_i(t,"onUpdate"),u&&t._repeat&&!i&&t.parent&&_i(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&Pe(t,1),!i&&!mt&&(_i(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},i.resetTo=function(t,e,i,n){Mt||Fi.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ki(this,r),function(t,e,i,n,r,s,a){var o,h,l,u,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],l=t._ptLookup,u=t._targets.length;u--;){if((o=l[u][e])&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==e&&o.fp!==e;)o=o._next;if(!o)return Wi=1,t.vars[e]="+=0",Ki(t,a),Wi=0,1;d.push(o)}for(u=d.length;u--;)(o=(h=d[u])._pt||h).s=!n&&0!==n||r?o.s+(n||0)+s*o.c:n,o.c=i-o.s,h.e&&(h.e=ye(i)+ni(h.e)),h.b&&(h.b=o.s+ni(h.b))}(this,t,e,i,n,this._ease(r/this._dur),r)?this.resetTo(t,e,i,n):(Ye(this,0),this.parent||De(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?vi(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,qi&&!0!==qi.vars.overwrite)._first||vi(this),this.parent&&i!==this.timeline.totalDuration()&&Ze(this,this._dur*this.timeline._tDur/i,0,1),this}var n,r,s,a,o,h,l,u=this._targets,d=t?ai(t):u,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(u,d))return"all"===e&&(this._pt=0),vi(this);for(n=this._op=this._op||[],"all"!==e&&(Bt(e)&&(o={},be(e,(function(t){return o[t]=1})),e=o),e=function(t,e){var i,n,r,s,a=t[0]?_e(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(n in i=ke({},e),o)if(n in i)for(r=(s=o[n].split(",")).length;r--;)i[s[r]]=i[n];return i}(u,e)),l=u.length;l--;)if(~d.indexOf(u[l]))for(o in r=c[l],"all"===e?(n[l]=e,a=r,s={}):(s=n[l]=n[l]||{},a=e),a)(h=r&&r[o])&&((!("kill"in h.d)||!0===h.d.kill(o))&&Re(this,h,"_pt"),delete r[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&p&&vi(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,e){return ti(1,arguments)},e.delayedCall=function(t,i,n,r){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},e.fromTo=function(t,e,i){return ti(2,arguments)},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return vt.killTweensOf(t,e,i)},e}(Xi);Se(nn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),be("staggerTo,staggerFrom,staggerFromTo",(function(t){nn[t]=function(){var e=new Gi,i=ri.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var rn=function(t,e,i){return t[e]=i},sn=function(t,e,i){return t[e](i)},an=function(t,e,i,n){return t[e](n.fp,i)},on=function(t,e,i){return t.setAttribute(e,i)},hn=function(t,e){return $t(t[e])?sn:zt(t[e])&&t.setAttribute?on:rn},ln=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},un=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},dn=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},cn=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},pn=function(t,e,i,n){for(var r,s=this._pt;s;)r=s._next,s.p===n&&s.modifier(t,e,i),s=r},gn=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?Re(this,n,"_pt"):n.dep||(e=1),n=i;return!e},fn=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},mn=function(t){for(var e,i,n,r,s=t._pt;s;){for(e=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:r=s,s=e}t._pt=n},_n=function(){function t(t,e,i,n,r,s,a,o,h){this.t=e,this.s=n,this.c=r,this.p=i,this.r=s||ln,this.d=a||this,this.set=o||rn,this.pr=h||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=fn,this.m=t,this.mt=i,this.tween=e},t}();be(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return he[t]=1})),Jt.TweenMax=Jt.TweenLite=nn,Jt.TimelineLite=Jt.TimelineMax=Gi,vt=new Gi({sortChildren:!1,defaults:Ct,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Tt.stringFilter=ki;var vn=[],bn={},yn=[],xn=0,wn=0,An=function(t){return(bn[t]||yn).map((function(t){return t()}))},En=function(){var t=Date.now(),e=[];t-xn>2&&(An("matchMediaInit"),vn.forEach((function(t){var i,n,r,s,a=t.queries,o=t.conditions;for(n in a)(i=bt.matchMedia(a[n]).matches)&&(r=1),i!==o[n]&&(o[n]=i,s=1);s&&(t.revert(),r&&e.push(t))})),An("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t)})),xn=t,An("matchMedia"))},Mn=function(){function t(t,e){this.selector=e&&oi(e),this.data=[],this._r=[],this.isReverted=!1,this.id=wn++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,i){$t(t)&&(i=e,e=t,t=$t);var n=this,r=function(){var t,r=_t,s=n.selector;return r&&r!==n&&r.data.push(n),i&&(n.selector=oi(i)),_t=n,t=e.apply(n,arguments),$t(t)&&n._r.push(t),_t=r,n.selector=s,n.isReverted=!1,t};return n.last=r,t===$t?r(n):t?n[t]=r:r},e.ignore=function(t){var e=_t;_t=null,t(this),_t=e},e.getTweens=function(){var e=[];return this.data.forEach((function(i){return i instanceof t?e.push.apply(e,i.getTweens()):i instanceof nn&&!(i.parent&&"nested"===i.parent.data)&&e.push(i)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var i=this;if(t){var n=this.getTweens();this.data.forEach((function(t){"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})))})),n.map((function(t){return{g:t.globalTime(0),t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),this.data.forEach((function(e){return!(e instanceof nn)&&e.revert&&e.revert(t)})),this._r.forEach((function(e){return e(t,i)})),this.isReverted=!0}else this.data.forEach((function(t){return t.kill&&t.kill()}));if(this.clear(),e)for(var r=vn.length;r--;)vn[r].id===this.id&&vn.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),Tn=function(){function t(t){this.contexts=[],this.scope=t}var e=t.prototype;return e.add=function(t,e,i){Nt(t)||(t={matches:t});var n,r,s,a=new Mn(0,i||this.scope),o=a.conditions={};for(r in _t&&!a.selector&&(a.selector=_t.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===r?s=1:(n=bt.matchMedia(t[r]))&&(vn.indexOf(a)<0&&vn.push(a),(o[r]=n.matches)&&(s=1),n.addListener?n.addListener(En):n.addEventListener("change",En));return s&&e(a),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Cn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return yi(t)}))},timeline:function(t){return new Gi(t)},getTweensOf:function(t,e){return vt.getTweensOf(t,e)},getProperty:function(t,e,i,n){Bt(t)&&(t=ai(t)[0]);var r=_e(t||{}).get,s=i?Ce:Te;return"native"===i&&(i=""),t&&(e?s((de[e]&&de[e].get||r)(t,e,i,n)):function(e,i,n){return s((de[e]&&de[e].get||r)(t,e,i,n))})},quickSetter:function(t,e,i){if((t=ai(t)).length>1){var n=t.map((function(t){return Fn.quickSetter(t,e,i)})),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var s=de[e],a=_e(t),o=a.harness&&(a.harness.aliases||{})[e]||e,h=s?function(e){var n=new s;Et._pt=0,n.init(t,i?e+i:e,Et,0,[t]),n.render(1,n),Et._pt&&cn(1,Et)}:a.set(t,o);return s?h:function(e){return h(t,o,i?e+i:e,a,1)}},quickTo:function(t,e,i){var n,r=Fn.to(t,ke(((n={})[e]="+=0.1",n.paused=!0,n),i||{})),s=function(t,i,n){return r.resetTo(e,t,i,n)};return s.tween=r,s},isTweening:function(t){return vt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ii(t.ease,Ct.ease)),Fe(Ct,t||{})},config:function(t){return Fe(Tt,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,s=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!de[t]&&!Jt[t]&&ie()})),ce[e]=function(t,e,n){return i(ai(t),Se(e||{},r),n)},s&&(Gi.prototype[e]=function(t,i,n){return this.add(ce[e](t,Nt(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){Li[t]=Ii(e)},parseEase:function(t,e){return arguments.length?Ii(t,e):Li},getById:function(t){return vt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,r=new Gi(t);for(r.smoothChildTiming=Ut(t.smoothChildTiming),vt.remove(r),r._dp=0,r._time=r._tTime=vt._time,i=vt._first;i;)n=i._next,(e||!(!i._dur&&i instanceof nn&&i.vars.onComplete===i._targets[0]))&&Ge(r,i,i._start-i._delay),i=n;return Ge(vt,r,0),r},context:function(t,e){return t?new Mn(t,e):_t},matchMedia:function(t){return new Tn(t)},matchMediaRefresh:function(){return vn.forEach((function(t){var e,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,e=1);e&&t.revert()}))||En()},addEventListener:function(t,e){var i=bn[t]||(bn[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=bn[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:function t(e,i,n){var r=i-e;return Gt(e)?pi(e,t(0,e.length),i):ei(n,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,i,n){var r=i-e,s=2*r;return Gt(e)?pi(e,t(0,e.length-1),i):ei(n,(function(t){return e+((t=(s+(t-e)%s)%s||0)>r?s-t:t)}))},distribute:li,random:ci,snap:di,normalize:function(t,e,i){return fi(t,e,0,1,i)},getUnit:ni,clamp:function(t,e,i){return ei(i,(function(i){return ii(t,e,i)}))},splitColor:Ei,toArray:ai,selector:oi,mapRange:fi,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ni(i))}},interpolate:function t(e,i,n,r){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var a,o,h,l,u,d=Bt(e),c={};if(!0===n&&(r=1)&&(n=null),d)e={p:e},i={p:i};else if(Gt(e)&&!Gt(i)){for(h=[],l=e.length,u=l-2,o=1;o<l;o++)h.push(t(e[o-1],e[o]));l--,s=function(t){t*=l;var e=Math.min(u,~~t);return h[e](t-e)},n=i}else r||(e=ke(Gt(e)?[]:{},e));if(!h){for(a in i)ji.call(c,e,a,"get",i[a]);s=function(t){return cn(t,c)||(d?e.p:e)}}}return ei(n,s)},shuffle:hi},install:ee,effects:ce,ticker:Fi,updateRoot:Gi.updateRoot,plugins:de,globalTimeline:vt,core:{PropTween:_n,globals:ne,Tween:nn,Timeline:Gi,Animation:Xi,getCache:_e,_removeLinkedListItem:Re,reverting:function(){return mt},context:function(t){return t&&_t&&(_t.data.push(t),t._ctx=_t),_t},suppressOverwrites:function(t){return ft=t}}};be("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Cn[t]=nn[t]})),Fi.add(Gi.updateRoot),Et=Cn.to({},{duration:0});var Sn=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},kn=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,r;if(Bt(i)&&(n={},be(i,(function(t){return n[t]=1})),i=n),e){for(r in n={},i)n[r]=e(i[r]);i=n}!function(t,e){var i,n,r,s=t._targets;for(i in e)for(n=s.length;n--;)(r=t._ptLookup[n][i])&&(r=r.d)&&(r._pt&&(r=Sn(r,i)),r&&r.modifier&&r.modifier(e[i],t,s[n],i))}(t,i)}}}},Fn=Cn.registerPlugin({name:"attr",init:function(t,e,i,n,r){var s,a,o;for(s in this.tween=i,e)o=t.getAttribute(s)||"",(a=this.add(t,"setAttribute",(o||0)+"",e[s],n,r,0,0,s)).op=s,a.b=o,this._props.push(s)},render:function(t,e){for(var i=e._pt;i;)mt?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},kn("roundProps",ui),kn("modifiers"),kn("snap",di))||Cn;nn.version=Gi.version=Fn.version="3.12.2",wt=1,Vt()&&Oi(),Li.Power0,Li.Power1,Li.Power2,Li.Power3,Li.Power4,Li.Linear,Li.Quad,Li.Cubic,Li.Quart,Li.Quint,Li.Strong,Li.Elastic,Li.Back,Li.SteppedEase,Li.Bounce,Li.Sine,Li.Expo,Li.Circ;var On,Ln,Dn,Rn,Pn,Bn,$n,In,zn={},Nn=180/Math.PI,Un=Math.PI/180,Vn=Math.atan2,Yn=1e8,Xn=/([A-Z])/g,Gn=/(left|right|width|margin|padding|x)/i,qn=/[\s,\(]\S/,Wn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Hn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},jn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Zn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Kn=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},Qn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Jn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},tr=function(t,e,i){return t.style[e]=i},er=function(t,e,i){return t.style.setProperty(e,i)},ir=function(t,e,i){return t._gsap[e]=i},nr=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},rr=function(t,e,i,n,r){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)},sr=function(t,e,i,n,r){var s=t._gsap;s[e]=i,s.renderTransform(r,s)},ar="transform",or=ar+"Origin",hr=function t(e,i){var n=this,r=this.target,s=r.style;if(e in zn&&s){if(this.tfm=this.tfm||{},"transform"===e)return Wn.transform.split(",").forEach((function(e){return t.call(n,e,i)}));if(~(e=Wn[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=Tr(r,t)})):this.tfm[e]=r._gsap.x?r._gsap[e]:Tr(r,e),this.props.indexOf(ar)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(or,i,"")),e=ar}(s||i)&&this.props.push(e,i,s[e])},lr=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ur=function(){var t,e,i=this.props,n=this.target,r=n.style,s=n._gsap;for(t=0;t<i.length;t+=3)i[t+1]?n[i[t]]=i[t+2]:i[t+2]?r[i[t]]=i[t+2]:r.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(Xn,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(!(t=$n())||!t.isStart)&&!r[ar]&&(lr(r),s.uncache=1)}},dr=function(t,e){var i={target:t,props:[],revert:ur,save:hr};return t._gsap||Fn.core.getCache(t),e&&e.split(",").forEach((function(t){return i.save(t)})),i},cr=function(t,e){var i=Ln.createElementNS?Ln.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ln.createElement(t);return i.style?i:Ln.createElement(t)},pr=function t(e,i,n){var r=getComputedStyle(e);return r[i]||r.getPropertyValue(i.replace(Xn,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&t(e,fr(i)||i,1)||""},gr="O,Moz,ms,Ms,Webkit".split(","),fr=function(t,e,i){var n=(e||Pn).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(gr[r]+t in n););return r<0?null:(3===r?"ms":r>=0?gr[r]:"")+t},mr=function(){typeof window<"u"&&window.document&&(On=window,Ln=On.document,Dn=Ln.documentElement,Pn=cr("div")||{style:{}},cr("div"),ar=fr(ar),or=ar+"Origin",Pn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",In=!!fr("perspective"),$n=Fn.core.reverting,Rn=1)},_r=function t(e){var i,n=cr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(Dn.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(i=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),Dn.removeChild(n),this.style.cssText=a,i},vr=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},br=function(t){var e;try{e=t.getBBox()}catch{e=_r.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===_r||(e=_r.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+vr(t,["x","cx","x1"])||0,y:+vr(t,["y","cy","y1"])||0,width:0,height:0}},yr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!br(t))},xr=function(t,e){if(e){var i=t.style;e in zn&&e!==or&&(e=ar),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(Xn,"-$1").toLowerCase())):i.removeAttribute(e)}},wr=function(t,e,i,n,r,s){var a=new _n(t._pt,e,i,0,1,s?Jn:Qn);return t._pt=a,a.b=n,a.e=r,t._props.push(i),a},Ar={deg:1,rad:1,turn:1},Er={grid:1,flex:1},Mr=function t(e,i,n,r){var s,a,o,h,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",d=Pn.style,c=Gn.test(i),p="svg"===e.tagName.toLowerCase(),g=(p?"client":"offset")+(c?"Width":"Height"),f=100,m="px"===r,_="%"===r;return r===u||!l||Ar[r]||Ar[u]?l:("px"!==u&&!m&&(l=t(e,i,n,"px")),h=e.getCTM&&yr(e),!_&&"%"!==u||!zn[i]&&!~i.indexOf("adius")?(d[c?"width":"height"]=f+(m?u:r),a=~i.indexOf("adius")||"em"===r&&e.appendChild&&!p?e:e.parentNode,h&&(a=(e.ownerSVGElement||{}).parentNode),(!a||a===Ln||!a.appendChild)&&(a=Ln.body),(o=a._gsap)&&_&&o.width&&c&&o.time===Fi.time&&!o.uncache?ye(l/o.width*f):((_||"%"===u)&&!Er[pr(a,"display")]&&(d.position=pr(e,"position")),a===e&&(d.position="static"),a.appendChild(Pn),s=Pn[g],a.removeChild(Pn),d.position="absolute",c&&_&&((o=_e(a)).time=Fi.time,o.width=a[g]),ye(m?s*l/f:s&&l?f/s*l:0))):(s=h?e.getBBox()[c?"width":"height"]:e[g],ye(_?l/s*f:l/100*s)))},Tr=function(t,e,i,n){var r;return Rn||mr(),e in Wn&&"transform"!==e&&~(e=Wn[e]).indexOf(",")&&(e=e.split(",")[0]),zn[e]&&"transform"!==e?(r=Ir(t,n),r="transformOrigin"!==e?r[e]:r.svg?r.origin:zr(pr(t,or))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||n||~(r+"").indexOf("calc("))&&(r=Or[e]&&Or[e](t,e,i)||pr(t,e)||ve(t,e)||("opacity"===e?1:0)),i&&!~(r+"").trim().indexOf(" ")?Mr(t,e,r,i)+i:r},Cr=function(t,e,i,n){if(!i||"none"===i){var r=fr(e,t,1),s=r&&pr(t,r,1);s&&s!==i?(e=r,i=s):"borderColor"===e&&(i=pr(t,"borderTopColor"))}var a,o,h,l,u,d,c,p,g,f,m,_=new _n(this._pt,t.style,e,0,1,dn),v=0,b=0;if(_.b=i,_.e=n,i+="","auto"==(n+="")&&(t.style[e]=n,n=pr(t,e)||n,t.style[e]=i),ki(a=[i,n]),n=a[1],h=(i=a[0]).match(Ht)||[],(n.match(Ht)||[]).length){for(;o=Ht.exec(n);)c=o[0],g=n.substring(v,o.index),u?u=(u+1)%5:("rgba("===g.substr(-5)||"hsla("===g.substr(-5))&&(u=1),c!==(d=h[b++]||"")&&(l=parseFloat(d)||0,m=d.substr((l+"").length),"="===c.charAt(1)&&(c=we(l,c)+m),p=parseFloat(c),f=c.substr((p+"").length),v=Ht.lastIndex-f.length,f||(f=f||Tt.units[e]||m,v===n.length&&(n+=f,_.e+=f)),m!==f&&(l=Mr(t,e,d,f)||0),_._pt={_next:_._pt,p:g||1===b?g:",",s:l,c:p-l,m:u&&u<4||"zIndex"===e?Math.round:0});_.c=v<n.length?n.substring(v,n.length):""}else _.r="display"===e&&"none"===n?Jn:Qn;return Zt.test(n)&&(_.e=0),this._pt=_,_},Sr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},kr=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return("top"===i||"bottom"===i||"left"===n||"right"===n)&&(t=i,i=n,n=t),e[0]=Sr[i]||i,e[1]=Sr[n]||n,e.join(" ")},Fr=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,s=e.t,a=s.style,o=e.u,h=s._gsap;if("all"===o||!0===o)a.cssText="",n=1;else for(r=(o=o.split(",")).length;--r>-1;)i=o[r],zn[i]&&(n=1,i="transformOrigin"===i?or:ar),xr(s,i);n&&(xr(s,ar),h&&(h.svg&&s.removeAttribute("transform"),Ir(s,1),h.uncache=1,lr(a)))}},Or={clearProps:function(t,e,i,n,r){if("isFromStart"!==r.data){var s=t._pt=new _n(t._pt,e,i,0,0,Fr);return s.u=n,s.pr=-10,s.tween=r,t._props.push(i),1}}},Lr=[1,0,0,1,0,0],Dr={},Rr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Pr=function(t){var e=pr(t,ar);return Rr(e)?Lr:e.substr(7).match(Wt).map(ye)},Br=function(t,e){var i,n,r,s,a=t._gsap||_e(t),o=t.style,h=Pr(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(h=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Lr:h:(h===Lr&&!t.offsetParent&&t!==Dn&&!a.svg&&(r=o.display,o.display="block",(!(i=t.parentNode)||!t.offsetParent)&&(s=1,n=t.nextElementSibling,Dn.appendChild(t)),h=Pr(t),r?o.display=r:xr(t,"display"),s&&(n?i.insertBefore(t,n):i?i.appendChild(t):Dn.removeChild(t))),e&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},$r=function(t,e,i,n,r,s){var a,o,h,l=t._gsap,u=r||Br(t,!0),d=l.xOrigin||0,c=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,f=u[0],m=u[1],_=u[2],v=u[3],b=u[4],y=u[5],x=e.split(" "),w=parseFloat(x[0])||0,A=parseFloat(x[1])||0;i?u!==Lr&&(o=f*v-m*_)&&(h=w*(-m/o)+A*(f/o)-(f*y-m*b)/o,w=w*(v/o)+A*(-_/o)+(_*y-v*b)/o,A=h):(w=(a=br(t)).x+(~x[0].indexOf("%")?w/100*a.width:w),A=a.y+(~(x[1]||x[0]).indexOf("%")?A/100*a.height:A)),n||!1!==n&&l.smooth?(b=w-d,y=A-c,l.xOffset=p+(b*f+y*_)-b,l.yOffset=g+(b*m+y*v)-y):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=A,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!i,t.style[or]="0px 0px",s&&(wr(s,l,"xOrigin",d,w),wr(s,l,"yOrigin",c,A),wr(s,l,"xOffset",p,l.xOffset),wr(s,l,"yOffset",g,l.yOffset)),t.setAttribute("data-svg-origin",w+" "+A)},Ir=function(t,e){var i=t._gsap||new Yi(t);if("x"in i&&!e&&!i.uncache)return i;var n,r,s,a,o,h,l,u,d,c,p,g,f,m,_,v,b,y,x,w,A,E,M,T,C,S,k,F,O,L,D,R,P=t.style,B=i.scaleX<0,$="px",I="deg",z=getComputedStyle(t),N=pr(t,or)||"0";return n=r=s=h=l=u=d=c=p=0,a=o=1,i.svg=!(!t.getCTM||!yr(t)),z.translate&&(("none"!==z.translate||"none"!==z.scale||"none"!==z.rotate)&&(P[ar]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[ar]?z[ar]:"")),P.scale=P.rotate=P.translate="none"),m=Br(t,i.svg),i.svg&&(i.uncache?(C=t.getBBox(),N=i.xOrigin-C.x+"px "+(i.yOrigin-C.y)+"px",T=""):T=!e&&t.getAttribute("data-svg-origin"),$r(t,T||N,!!T||i.originIsAbsolute,!1!==i.smooth,m)),g=i.xOrigin||0,f=i.yOrigin||0,m!==Lr&&(y=m[0],x=m[1],w=m[2],A=m[3],n=E=m[4],r=M=m[5],6===m.length?(a=Math.sqrt(y*y+x*x),o=Math.sqrt(A*A+w*w),h=y||x?Vn(x,y)*Nn:0,(d=w||A?Vn(w,A)*Nn+h:0)&&(o*=Math.abs(Math.cos(d*Un))),i.svg&&(n-=g-(g*y+f*w),r-=f-(g*x+f*A))):(R=m[6],L=m[7],k=m[8],F=m[9],O=m[10],D=m[11],n=m[12],r=m[13],s=m[14],l=(_=Vn(R,O))*Nn,_&&(T=E*(v=Math.cos(-_))+k*(b=Math.sin(-_)),C=M*v+F*b,S=R*v+O*b,k=E*-b+k*v,F=M*-b+F*v,O=R*-b+O*v,D=L*-b+D*v,E=T,M=C,R=S),u=(_=Vn(-w,O))*Nn,_&&(v=Math.cos(-_),D=A*(b=Math.sin(-_))+D*v,y=T=y*v-k*b,x=C=x*v-F*b,w=S=w*v-O*b),h=(_=Vn(x,y))*Nn,_&&(T=y*(v=Math.cos(_))+x*(b=Math.sin(_)),C=E*v+M*b,x=x*v-y*b,M=M*v-E*b,y=T,E=C),l&&Math.abs(l)+Math.abs(h)>359.9&&(l=h=0,u=180-u),a=ye(Math.sqrt(y*y+x*x+w*w)),o=ye(Math.sqrt(M*M+R*R)),_=Vn(E,M),d=Math.abs(_)>2e-4?_*Nn:0,p=D?1/(D<0?-D:D):0),i.svg&&(T=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Rr(pr(t,ar)),T&&t.setAttribute("transform",T))),Math.abs(d)>90&&Math.abs(d)<270&&(B?(a*=-1,d+=h<=0?180:-180,h+=h<=0?180:-180):(o*=-1,d+=d<=0?180:-180)),e=e||i.uncache,i.x=n-((i.xPercent=n&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+$,i.y=r-((i.yPercent=r&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+$,i.z=s+$,i.scaleX=ye(a),i.scaleY=ye(o),i.rotation=ye(h)+I,i.rotationX=ye(l)+I,i.rotationY=ye(u)+I,i.skewX=d+I,i.skewY=c+I,i.transformPerspective=p+$,(i.zOrigin=parseFloat(N.split(" ")[2])||0)&&(P[or]=zr(N)),i.xOffset=i.yOffset=0,i.force3D=Tt.force3D,i.renderTransform=i.svg?qr:In?Gr:Ur,i.uncache=0,i},zr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Nr=function(t,e,i){var n=ni(e);return ye(parseFloat(e)+parseFloat(Mr(t,"x",i+"px",n)))+n},Ur=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Gr(t,e)},Vr="0deg",Yr="0px",Xr=") ",Gr=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,a=i.y,o=i.z,h=i.rotation,l=i.rotationY,u=i.rotationX,d=i.skewX,c=i.skewY,p=i.scaleX,g=i.scaleY,f=i.transformPerspective,m=i.force3D,_=i.target,v=i.zOrigin,b="",y="auto"===m&&t&&1!==t||!0===m;if(v&&(u!==Vr||l!==Vr)){var x,w=parseFloat(l)*Un,A=Math.sin(w),E=Math.cos(w);w=parseFloat(u)*Un,x=Math.cos(w),s=Nr(_,s,A*x*-v),a=Nr(_,a,-Math.sin(w)*-v),o=Nr(_,o,E*x*-v+v)}f!==Yr&&(b+="perspective("+f+Xr),(n||r)&&(b+="translate("+n+"%, "+r+"%) "),(y||s!==Yr||a!==Yr||o!==Yr)&&(b+=o!==Yr||y?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+Xr),h!==Vr&&(b+="rotate("+h+Xr),l!==Vr&&(b+="rotateY("+l+Xr),u!==Vr&&(b+="rotateX("+u+Xr),(d!==Vr||c!==Vr)&&(b+="skew("+d+", "+c+Xr),(1!==p||1!==g)&&(b+="scale("+p+", "+g+Xr),_.style[ar]=b||"translate(0, 0)"},qr=function(t,e){var i,n,r,s,a,o=e||this,h=o.xPercent,l=o.yPercent,u=o.x,d=o.y,c=o.rotation,p=o.skewX,g=o.skewY,f=o.scaleX,m=o.scaleY,_=o.target,v=o.xOrigin,b=o.yOrigin,y=o.xOffset,x=o.yOffset,w=o.forceCSS,A=parseFloat(u),E=parseFloat(d);c=parseFloat(c),p=parseFloat(p),(g=parseFloat(g))&&(p+=g=parseFloat(g),c+=g),c||p?(c*=Un,p*=Un,i=Math.cos(c)*f,n=Math.sin(c)*f,r=Math.sin(c-p)*-m,s=Math.cos(c-p)*m,p&&(g*=Un,a=Math.tan(p-g),r*=a=Math.sqrt(1+a*a),s*=a,g&&(a=Math.tan(g),i*=a=Math.sqrt(1+a*a),n*=a)),i=ye(i),n=ye(n),r=ye(r),s=ye(s)):(i=f,s=m,n=r=0),(A&&!~(u+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(A=Mr(_,"x",u,"px"),E=Mr(_,"y",d,"px")),(v||b||y||x)&&(A=ye(A+v-(v*i+b*r)+y),E=ye(E+b-(v*n+b*s)+x)),(h||l)&&(a=_.getBBox(),A=ye(A+h/100*a.width),E=ye(E+l/100*a.height)),a="matrix("+i+","+n+","+r+","+s+","+A+","+E+")",_.setAttribute("transform",a),w&&(_.style[ar]=a)},Wr=function(t,e,i,n,r){var s,a,o=360,h=Bt(r),l=parseFloat(r)*(h&&~r.indexOf("rad")?Nn:1)-n,u=n+l+"deg";return h&&("short"===(s=r.split("_")[1])&&(l%=o)!=l%180&&(l+=l<0?o:-o),"cw"===s&&l<0?l=(l+o*Yn)%o-~~(l/o)*o:"ccw"===s&&l>0&&(l=(l-o*Yn)%o-~~(l/o)*o)),t._pt=a=new _n(t._pt,e,i,n,l,jn),a.e=u,a.u="deg",t._props.push(i),a},Hr=function(t,e){for(var i in e)t[i]=e[i];return t},jr=function(t,e,i){var n,r,s,a,o,h,l,u=Hr({},i._gsap),d=i.style;for(r in u.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),d[ar]=e,n=Ir(i,1),xr(i,ar),i.setAttribute("transform",s)):(s=getComputedStyle(i)[ar],d[ar]=e,n=Ir(i,1),d[ar]=s),zn)(s=u[r])!==(a=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(o=ni(s)!==(l=ni(a))?Mr(i,r,s,l):parseFloat(s),h=parseFloat(a),t._pt=new _n(t._pt,n,r,o,h-o,Hn),t._pt.u=l||0,t._props.push(r));Hr(n,u)};be("padding,margin,Width,Radius",(function(t,e){var i="Top",n="Right",r="Bottom",s="Left",a=(e<3?[i,n,r,s]:[i+s,i+n,r+n,r+s]).map((function(i){return e<2?t+i:"border"+i+t}));Or[e>1?"border"+t:t]=function(t,e,i,n,r){var s,o;if(arguments.length<4)return s=a.map((function(e){return Tr(t,e,i)})),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(n+"").split(" "),o={},a.forEach((function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,o,r)}}));var Zr={name:"css",register:mr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var s,a,o,h,l,u,d,c,p,g,f,m,_,v,b,y,x=this._props,w=t.style,A=i.vars.startAt;for(d in Rn||mr(),this.styles=this.styles||dr(t),y=this.styles.props,this.tween=i,e)if("autoRound"!==d&&(a=e[d],!de[d]||!Zi(d,e,i,n,t,r)))if(l=typeof a,u=Or[d],"function"===l&&(l=typeof(a=a.call(i,n,t,r))),"string"===l&&~a.indexOf("random(")&&(a=gi(a)),u)u(this,t,d,a,i)&&(b=1);else if("--"===d.substr(0,2))s=(getComputedStyle(t).getPropertyValue(d)+"").trim(),a+="",Ci.lastIndex=0,Ci.test(s)||(c=ni(s),p=ni(a)),p?c!==p&&(s=Mr(t,d,s,p)+p):c&&(a+=c),this.add(w,"setProperty",s,a,n,r,0,0,d),x.push(d),y.push(d,0,w[d]);else if("undefined"!==l){if(A&&d in A?(s="function"==typeof A[d]?A[d].call(i,n,t,r):A[d],Bt(s)&&~s.indexOf("random(")&&(s=gi(s)),ni(s+"")||(s+=Tt.units[d]||ni(Tr(t,d))||""),"="===(s+"").charAt(1)&&(s=Tr(t,d))):s=Tr(t,d),h=parseFloat(s),(g="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),o=parseFloat(a),d in Wn&&("autoAlpha"===d&&(1===h&&"hidden"===Tr(t,"visibility")&&o&&(h=0),y.push("visibility",0,w.visibility),wr(this,w,"visibility",h?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==d&&"transform"!==d&&~(d=Wn[d]).indexOf(",")&&(d=d.split(",")[0])),f=d in zn)if(this.styles.save(d),m||((_=t._gsap).renderTransform&&!e.parseTransform||Ir(t,e.parseTransform),v=!1!==e.smoothOrigin&&_.smooth,(m=this._pt=new _n(this._pt,w,ar,0,1,_.renderTransform,_,0,-1)).dep=1),"scale"===d)this._pt=new _n(this._pt,_,"scaleY",_.scaleY,(g?we(_.scaleY,g+o):o)-_.scaleY||0,Hn),this._pt.u=0,x.push("scaleY",d),d+="X";else{if("transformOrigin"===d){y.push(or,0,w[or]),a=kr(a),_.svg?$r(t,a,0,v,0,this):((p=parseFloat(a.split(" ")[2])||0)!==_.zOrigin&&wr(this,_,"zOrigin",_.zOrigin,p),wr(this,w,d,zr(s),zr(a)));continue}if("svgOrigin"===d){$r(t,a,1,v,0,this);continue}if(d in Dr){Wr(this,_,d,h,g?we(h,g+a):a);continue}if("smoothOrigin"===d){wr(this,_,"smooth",_.smooth,a);continue}if("force3D"===d){_[d]=a;continue}if("transform"===d){jr(this,a,t);continue}}else d in w||(d=fr(d)||d);if(f||(o||0===o)&&(h||0===h)&&!qn.test(a)&&d in w)o||(o=0),(c=(s+"").substr((h+"").length))!==(p=ni(a)||(d in Tt.units?Tt.units[d]:c))&&(h=Mr(t,d,s,p)),this._pt=new _n(this._pt,f?_:w,d,h,(g?we(h,g+o):o)-h,f||"px"!==p&&"zIndex"!==d||!1===e.autoRound?Hn:Kn),this._pt.u=p||0,c!==p&&"%"!==p&&(this._pt.b=s,this._pt.r=Zn);else if(d in w)Cr.call(this,t,d,s,g?g+a:a);else if(d in t)this.add(t,d,s||t[d],g?g+a:a,n,r);else if("parseTransform"!==d)continue;f||(d in w?y.push(d,0,w[d]):y.push(d,1,s||t[d])),x.push(d)}b&&mn(this)},render:function(t,e){if(e.tween._time||!$n())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Tr,aliases:Wn,getSetter:function(t,e,i){var n=Wn[e];return n&&n.indexOf(",")<0&&(e=n),e in zn&&e!==or&&(t._gsap.x||Tr(t,"x"))?i&&Bn===i?"scale"===e?nr:ir:(Bn=i||{})&&("scale"===e?rr:sr):t.style&&!zt(t.style[e])?tr:~e.indexOf("-")?er:hn(t,e)},core:{_removeProperty:xr,_getMatrix:Br}};Fn.utils.checkPrefix=fr,Fn.core.getStyleSaver=dr,function(t,e,i,n){var r=be(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){zn[t]=1}));be(e,(function(t){Tt.units[t]="deg",Dr[t]=1})),Wn[r[13]]=t+","+e,be("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Wn[e[1]]=r[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),be("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Tt.units[t]="px"})),Fn.registerPlugin(Zr);var Kr=Fn.registerPlugin(Zr)||Fn;Kr.core.Tween;var Qr=Object.defineProperty,Jr=(t,e,i)=>(((t,e,i)=>{e in t?Qr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i),ts=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},es=(t,e,i)=>(ts(t,e,"read from private field"),i?i.call(t):e.get(t)),is=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},ns=(t,e,i,n)=>(ts(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);const rs=new class{constructor(){Jr(this,"load",((t,e)=>new Promise((i=>{const n=[];for(let i=0;i<t.length;i++){const{name:r,texture:s}=t[i];s&&!this.assets[r]&&n.push(this.loadTexture(s,r,e))}Promise.all(n).then((()=>i()))})))),this.assets={}}get(t){return this.assets[t]}loadTexture(t,e,i){return this.assets[e]||(this.assets[e]={}),new Promise((n=>{const r=new Image,s=new st(i);r.onload=()=>{s.image=r,this.assets[e]=s,n(r)},r.src=t}))}};function ss(){return!(!("standalone"in navigator)&&!window.matchMedia("(pointer: coarse)").matches)||!window.matchMedia("(pointer: fine)").matches&&("ontouchstart"in window||navigator.maxTouchPoints>0)}const as=new class{constructor(){Jr(this,"entries",{}),Jr(this,"observer"),Jr(this,"onElementObserved",(t=>{t.forEach((t=>{const e=t.target.dataset.intersectId;e&&this.entries[e]&&(t.isIntersecting?this.entries[e].methodIn(t):this.entries[e].methodOut(t))}))})),this.observer=new IntersectionObserver(this.onElementObserved,{threshold:0})}observe(t,e,i,n){this.entries[t]={el:e,methodIn:i,methodOut:n},this.observer.observe(e)}unobserve(t,e){this.observer.unobserve(e),delete this.entries[t]}};var os,hs,ls,us,ds,cs,ps,gs,fs,ms,_s,vs,bs,ys,xs,ws,As;class Es{constructor(t){let{el:e,src:i,index:n,guiObj:r}=t;is(this,os,void 0),is(this,hs,void 0),is(this,ls,void 0),is(this,us,void 0),is(this,ds,new dt(0,0)),is(this,cs,new dt(0,0)),is(this,ps,void 0),is(this,gs,!0),is(this,fs,void 0),is(this,ms,void 0),is(this,_s,void 0),is(this,vs,void 0),is(this,bs,void 0),Jr(this,"show",(()=>{var t;null==(t=this.tlHide)||t.kill(),this.tlShow=Kr.timeline(),Kr.delayedCall(0,(()=>{es(this,os).parentNode.parentNode.classList.add("is-visible")})),this.tlShow.fromTo(es(this,us).uniforms.uBulge,{value:1},{value:0,duration:1.8,ease:"power3.out",delay:0}),this.tlShow.to(es(this,us).uniforms.uIntro,{value:1,duration:5,delay:0},0),ns(this,bs,!0)})),Jr(this,"hide",(()=>{var t;null==(t=this.tlShow)||t.kill(),this.tlHide=Kr.timeline(),Kr.delayedCall(0,(()=>{es(this,os).parentNode.parentNode.classList.remove("is-visible")})),this.tlHide.to(es(this,us).uniforms.uBulge,{value:1,duration:1.8,ease:"power3.out",delay:0}),this.tlHide.to(es(this,us).uniforms.uIntro,{value:0,duration:1,delay:0},0),ns(this,bs,!1)})),Jr(this,"render",(t=>{es(this,us)&&(es(this,cs).x=Kr.utils.interpolate(es(this,cs).x,es(this,ds).x,.1),es(this,cs).y=Kr.utils.interpolate(es(this,cs).y,es(this,ds).y,.1),es(this,us).uniforms.uMouse.value=es(this,cs),es(this,hs).render({scene:es(this,ls)}))})),Jr(this,"mouseMove",(t=>{if(!es(this,gs)||!es(this,us)||!es(this,bs))return;ns(this,ps,es(this,os).getBoundingClientRect());let e=es(this,_s)?t.touches[0].pageX:t.clientX,i=es(this,_s)?t.touches[0].pageY:t.clientY;const n=(e-es(this,ps).left)/es(this,os).offsetWidth,r=1-(i-es(this,ps).top)/es(this,os).offsetHeight;es(this,ds).x=Kr.utils.clamp(0,1,n),es(this,ds).y=Kr.utils.clamp(0,1,r)})),Jr(this,"handleMouseEnter",(()=>{var t,e;es(this,gs)&&(null==(t=this.tlHide)||t.kill(),null==(e=this.tlShow)||e.kill(),this.tlForceIntro=new Kr.timeline,this.tlForceIntro.to(es(this,us).uniforms.uIntro,{value:1,duration:5,ease:"expo.out"}),Kr.to(es(this,us).uniforms.uBulge,{value:1,duration:1,ease:"expo.out"}))})),Jr(this,"handleMouseLeave",(()=>{var t;es(this,gs)&&(null==(t=this.tlForceIntro)||t.kill(),this.tlLeave=new Kr.timeline,this.tlLeave.to(es(this,us).uniforms.uBulge,{value:0,duration:1,ease:"expo.out"}))})),Jr(this,"resize",(()=>{const t=es(this,os).parentNode.offsetWidth,e=es(this,os).parentNode.offsetHeight;es(this,hs).setSize(t,e),ns(this,ps,es(this,os).getBoundingClientRect()),es(this,us)&&(es(this,us).uniforms.uResolution.value=new dt(t,e)),ns(this,_s,ss())})),ns(this,os,e),ns(this,fs,i),ns(this,ms,n),ns(this,vs,r),this.setScene(),es(this,os).dataset.intersectId=n,ns(this,_s,ss())}get type(){return"card"}get program(){return es(this,us)}async setScene(){ns(this,hs,new V({dpr:Math.min(window.devicePixelRatio,2),canvas:es(this,os),width:es(this,os).offsetWidth,height:es(this,os).offsetHeight}));const t=es(this,os).closest("div").querySelector("img").getAttribute("src"),{gl:e}=es(this,hs);await rs.load([{name:t,texture:es(this,fs)}],e),e.clearColor(1,1,1,1),this.resize();const i=new ct(e),n=new Image;n.onload=()=>r.image=n,n.crossOrigin="anonymous",n.src=t;const r=rs.get(t);ns(this,us,new B(e,{vertex:"#define GLSLIFY 1\nattribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;uniform vec2 uTextureResolution;varying vec2 vUv;vec2 resizeUvCover(vec2 uv,vec2 size,vec2 resolution){vec2 ratio=vec2(min((resolution.x/resolution.y)/(size.x/size.y),1.0),min((resolution.y/resolution.x)/(size.y/size.x),1.0));return vec2(uv.x*ratio.x+(1.0-ratio.x)*0.5,uv.y*ratio.y+(1.0-ratio.y)*0.5);}void main(){vUv=resizeUvCover(uv,uTextureResolution,uResolution);gl_Position=vec4(position,0,1);}",fragment:"precision highp float;\n#define GLSLIFY 1\nuniform float uTime;uniform sampler2D uTexture;uniform vec2 uMouse;uniform vec2 uMouseIntro;uniform float uIntro;uniform float uRadius;uniform float uStrength;uniform float uBulge;varying vec2 vUv;vec2 bulge(vec2 uv,vec2 center){uv-=center;float dist=length(uv)/uRadius;float distPow=pow(dist,4.);float strengthAmount=uStrength/(1.0+distPow);uv*=(1.-uBulge)+uBulge*strengthAmount;uv+=center;return uv;}void main(){vec2 mixMouse=mix(uMouseIntro,uMouse,uIntro);vec2 bulgeUV=bulge(vUv,mixMouse);vec4 tex=texture2D(uTexture,bulgeUV);gl_FragColor.rgb=tex.rgb;gl_FragColor.a=1.0;}",uniforms:{uTime:{value:0},uTexture:{value:r},uTextureResolution:{value:new dt(r.image.width,r.image.height)},uResolution:{value:new dt(e.canvas.offsetWidth,e.canvas.offsetHeight)},uMouse:{value:es(this,ds)},uMouseIntro:{value:new dt(.5,0)},uIntro:{value:0},uBulge:{value:0},uRadius:{value:es(this,vs).radius},uStrength:{value:es(this,vs).strength}}})),ns(this,ls,new et(e,{geometry:i,program:es(this,us)})),this.events(),as.observe(es(this,ms),es(this,os),this.show,this.hide)}events(){es(this,os).addEventListener("mouseenter",this.handleMouseEnter,!1),es(this,os).addEventListener("mouseleave",this.handleMouseLeave,!1)}}os=new WeakMap,hs=new WeakMap,ls=new WeakMap,us=new WeakMap,ds=new WeakMap,cs=new WeakMap,ps=new WeakMap,gs=new WeakMap,fs=new WeakMap,ms=new WeakMap,_s=new WeakMap,vs=new WeakMap,bs=new WeakMap,ys=new WeakMap,xs=new WeakMap,ws=new WeakMap,As=new WeakMap,new class{constructor(){is(this,ys,void 0),is(this,xs,void 0),is(this,ws,{bulge:0,strength:1.1,radius:.98}),is(this,As,void 0),Jr(this,"handleRAF",(t=>{for(let e=0;e<es(this,ys).length;e++){const i=es(this,ys)[e];"function"==typeof i.render&&i.render(t)}})),Jr(this,"handleResize",(()=>{for(let t=0;t<es(this,ys).length;t++)es(this,ys)[t].resize})),Jr(this,"handleMouseMove",(t=>{for(let e=0;e<es(this,ys).length;e++){const i=es(this,ys)[e];"function"==typeof i.mouseMove&&i.mouseMove(t)}})),Jr(this,"handleScroll",(t=>{})),ns(this,ys,this.createComponents()),ns(this,xs,this.createLenis()),ns(this,As,this.createDebugger()),this.events()}createComponents(){const t=[];return document.querySelectorAll(".home-works-v2-card-image").forEach(((e,i)=>{var n=document.createElement("canvas"),r=e.querySelector("img");e.append(n);const s=r.getAttribute("src");t.push(new Es({el:n,src:s,index:i,guiObj:es(this,ws)}))})),t}createLenis(){}events(){Kr.ticker.add(this.handleRAF),window.addEventListener("resize",this.handleResize,!1),ss()?window.addEventListener("touchmove",this.handleMouseMove,!1):window.addEventListener("mousemove",this.handleMouseMove,!1)}createDebugger(){const t=new _,e=()=>{for(let t=0;t<es(this,ys).length;t++){const e=es(this,ys)[t];"card"===e.type&&(e.program.uniforms.uRadius.value=es(this,ws).radius,e.program.uniforms.uStrength.value=es(this,ws).strength)}};return t.add(es(this,ws),"radius",0,1).onChange(e),t.add(es(this,ws),"strength",0,3).onChange(e),t}}}]);const lilGuiControls=document.querySelector(".lil-gui");lilGuiControls.remove();